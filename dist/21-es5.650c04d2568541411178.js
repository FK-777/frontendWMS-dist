!function(){function c(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function e(c,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(c,n.key,n)}}function t(c,t,n){return t&&e(c.prototype,t),n&&e(c,n),c}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{W26d:function(e,n,o){"use strict";o.r(n),o.d(n,"LeaveModule",function(){return P});var i,r,a=o("SVse"),s=o("iInd"),l=o("s7LF"),u=o("tyVc"),b=o("8Y7J"),d=((r=function(){function e(){c(this,e)}return t(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(c){return new(c||r)},r.\u0275cmp=b.Qb({type:r,selectors:[["app-leave"]],decls:1,vars:0,template:function(c,e){1&c&&b.Xb(0,"router-outlet")},directives:[s.j],encapsulation:2}),r),f=((i=function(){function e(){c(this,e)}return t(e,[{key:"ngOnInit",value:function(){}},{key:"openFileBrowser",value:function(c){c.preventDefault(),document.querySelector("#fileUploadInputExample").click()}},{key:"handleFileInput",value:function(c){c.target.files.length&&document.querySelector("#fileUploadInputExample + .input-group .file-upload-info").setAttribute("value",c.target.files[0].name)}}]),e}()).\u0275fac=function(c){return new(c||i)},i.\u0275cmp=b.Qb({type:i,selectors:[["app-apply-leave"]],decls:52,vars:0,consts:[[1,"card-title","color-blue"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"forms-sample"],[1,"col-sm-4"],[1,"form-group"],["for","exampleInputUsername1"],[1,"form-control","form-control-sm","mb-3","ulineform"],["selected",""],["value","Casual Leave"],["value","Medical Leave"],["type","date","placeholder","Date",1,"form-control","ulineform"],["for","exampleInputEmail1"],["id","exampleFormControlTextarea1","rows","5","placeholder","Spacify Reason",1,"form-control","ulineform"],[1,"form-check","form-check-flat","form-check-primary"],[1,"form-check-label"],["type","checkbox",1,"form-check-input"],[1,"input-frame"],["type","submit",1,"btn","btn-primary","mr-2"],[1,"btn","btn-light"]],template:function(c,e){1&c&&(b.cc(0,"h3",0),b.Tc(1,"Apply Leave"),b.bc(),b.cc(2,"nav",1),b.cc(3,"ol",2),b.cc(4,"li",3),b.cc(5,"a",4),b.Tc(6,"Dashboard"),b.bc(),b.bc(),b.cc(7,"li",3),b.cc(8,"a",4),b.Tc(9,"Leave"),b.bc(),b.bc(),b.cc(10,"li",5),b.Tc(11,"Apply Leave"),b.bc(),b.bc(),b.bc(),b.cc(12,"div",6),b.cc(13,"div",7),b.cc(14,"div",8),b.cc(15,"div",9),b.cc(16,"form",10),b.cc(17,"div",6),b.cc(18,"div",11),b.cc(19,"div",12),b.cc(20,"label",13),b.Tc(21,"Leave Type"),b.bc(),b.cc(22,"select",14),b.cc(23,"option",15),b.Tc(24,"Select"),b.bc(),b.cc(25,"option",16),b.Tc(26,"Casual Leave"),b.bc(),b.cc(27,"option",17),b.Tc(28,"Medical Leave"),b.bc(),b.bc(),b.bc(),b.bc(),b.cc(29,"div",11),b.cc(30,"div",12),b.cc(31,"label",13),b.Tc(32,"Start Date"),b.bc(),b.Xb(33,"input",18),b.bc(),b.bc(),b.cc(34,"div",11),b.cc(35,"div",12),b.cc(36,"label",13),b.Tc(37,"End Date"),b.bc(),b.Xb(38,"input",18),b.bc(),b.bc(),b.bc(),b.cc(39,"div",12),b.cc(40,"label",19),b.Tc(41,"Reason"),b.bc(),b.Xb(42,"textarea",20),b.bc(),b.cc(43,"div",21),b.cc(44,"label",22),b.Xb(45,"input",23),b.Xb(46,"i",24),b.Tc(47," Is it a Half Day? "),b.bc(),b.bc(),b.cc(48,"button",25),b.Tc(49,"Apply Leave"),b.bc(),b.cc(50,"button",26),b.Tc(51,"Cancel"),b.bc(),b.bc(),b.bc(),b.bc(),b.bc(),b.bc())},directives:[s.h,l.t,l.l,l.m,l.n,l.s],styles:['.back[_ngcontent-%COMP%]{background-color:#7d98e8}.text-color[_ngcontent-%COMP%]{color:#f0fff0}.color-blue[_ngcontent-%COMP%]{color:#7d98e8}.ulineform[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;border:none;border-bottom:1px solid #c2bba7}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:38px;height:18px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc}.slider[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]:before{position:absolute;transition:.4s}.slider[_ngcontent-%COMP%]:before{content:"";height:10px;width:10px;left:4px;bottom:4px;background-color:#fff}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translateX(20px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),i),p=o("RMBY"),v=o("hccJ"),h=o("f4AX");function g(c,e){1&c&&(b.cc(0,"div",2),b.cc(1,"div",3),b.cc(2,"div",3),b.cc(3,"h4",7),b.Tc(4,"No Pending Leaves Found"),b.bc(),b.bc(),b.bc(),b.bc())}function m(c,e){if(1&c&&(b.cc(0,"div"),b.Tc(1),b.bc()),2&c){var t=b.oc().$implicit;b.Jb(1),b.Vc("",t.fName," ")}}function y(c,e){if(1&c&&(b.cc(0,"div"),b.Rc(1,m,2,1,"div",14),b.bc()),2&c){var t=e.$implicit,n=b.oc().$implicit;b.Jb(1),b.uc("ngIf",n.EmployeeId==t._id)}}function k(c,e){if(1&c){var t=b.dc();b.cc(0,"button",19),b.mc("click",function(){b.Jc(t);var c=b.oc(4);return c.show=!c.show}),b.Xb(1,"i",20),b.Tc(2,"\xa0 "),b.bc()}}function T(c,e){if(1&c){var t=b.dc();b.cc(0,"button",21),b.mc("click",function(){b.Jc(t);var c=b.oc(2).$implicit;return b.oc(2).updateDeclineStatus(c._id)}),b.Xb(1,"i",22),b.Tc(2,"\xa0 "),b.bc()}}function w(c,e){if(1&c){var t=b.dc();b.cc(0,"button",23),b.mc("click",function(){b.Jc(t);var c=b.oc(2).$implicit;return b.oc(2).updateApproveStatus(c._id)}),b.Xb(1,"i",24),b.Tc(2,"\xa0 "),b.bc()}}function I(c,e){if(1&c&&(b.cc(0,"td",15),b.Rc(1,k,3,0,"button",16),b.Rc(2,T,3,0,"button",17),b.Rc(3,w,3,0,"button",18),b.bc()),2&c){var t=b.oc(3);b.Jb(1),b.uc("ngIf",!t.show),b.Jb(1),b.uc("ngIf",t.show),b.Jb(1),b.uc("ngIf",t.show)}}function L(c,e){if(1&c&&(b.cc(0,"tr"),b.cc(1,"td"),b.Rc(2,y,2,1,"div",12),b.bc(),b.cc(3,"td"),b.Tc(4),b.bc(),b.cc(5,"td"),b.Tc(6),b.pc(7,"date"),b.bc(),b.cc(8,"td"),b.Tc(9),b.pc(10,"date"),b.bc(),b.cc(11,"td"),b.Tc(12),b.bc(),b.cc(13,"td"),b.Tc(14),b.bc(),b.Rc(15,I,4,3,"td",13),b.bc()),2&c){var t=e.$implicit,n=b.oc(2);b.Jb(2),b.uc("ngForOf",n.employees),b.Jb(2),b.Uc(t.leaveType),b.Jb(2),b.Uc(b.qc(7,7,t.startDate)),b.Jb(3),b.Uc(b.qc(10,9,t.endDate)),b.Jb(3),b.Uc(t.reason),b.Jb(2),b.Uc(t.desigination),b.Jb(1),b.uc("ngIf","Pending"==t.status)}}function O(c,e){if(1&c&&(b.cc(0,"div",8),b.cc(1,"table",9),b.cc(2,"thead",10),b.cc(3,"tr",11),b.cc(4,"th"),b.Tc(5,"Employee Name"),b.bc(),b.cc(6,"th"),b.Tc(7,"Leave Type"),b.bc(),b.cc(8,"th"),b.Tc(9,"start Date"),b.bc(),b.cc(10,"th"),b.Tc(11,"End Date"),b.bc(),b.cc(12,"th"),b.Tc(13,"Reason"),b.bc(),b.cc(14,"th"),b.Tc(15,"Designation"),b.bc(),b.cc(16,"th"),b.Tc(17,"More"),b.bc(),b.bc(),b.bc(),b.cc(18,"tbody",11),b.Rc(19,L,16,11,"tr",12),b.bc(),b.bc(),b.bc()),2&c){var t=b.oc();b.Jb(19),b.uc("ngForOf",t.officeNewLeaves)}}var x,C,M=[{path:"",component:d,children:[{path:"",redirectTo:"basic-elements",pathMatch:"full"},{path:"apply-leave",component:f},{path:"leave-list",component:(x=function(){function e(t,n){c(this,e),this.leaveService=t,this.userService=n,this.leaves=[],this.users=[],this.show=!1,this.officeLeaves=[],this.countTheRecivedLeaves=0,this.officeNewLeaves=[],this.employeeId="62a999ff6c5f6b541f7450f2",this.employees=[],this.userId=p.a.getLoggedUser().id}return t(e,[{key:"ngOnInit",value:function(){this.fetchUsers(),this.fetchLeaves()}},{key:"fetchLeaves",value:function(){var c=this;this.leaveService.getLeaves({}).subscribe(function(e){c.leaves=e;for(var t=0,n=0;t<c.leaves.length;t++)c.leaves[t].OfficeId==c.userId&&"Pending"==c.leaves[t].status&&"lead"!=c.leaves[t].desigination&&(c.officeLeaves[n]=c.leaves[t],c.countTheRecivedLeaves=c.officeLeaves.length,n++);c.officeNewLeaves=c.officeLeaves.reverse()})}},{key:"refresh",value:function(){window.location.reload()}},{key:"updateApproveStatus",value:function(c){var e=this;this.leaveService.updateLeaves(c,{status:"Approved"}).subscribe(function(c){e.refresh(),console.log("Leaves updated successfully")},function(c){})}},{key:"updateDeclineStatus",value:function(c){var e=this;this.leaveService.updateLeaves(c,{status:"Declined"}).subscribe(function(c){e.refresh(),console.log("Leaves updated successfully")},function(c){})}},{key:"fetchUsers",value:function(){var c=this;this.userService.getUsers({}).subscribe(function(e){c.users=e;for(var t=0,n=0;t<c.users.length;t++)c.users[t].RoleId==c.employeeId&&c.users[t].OfficeId==c.userId&&(c.employees[n]=c.users[t],n++);console.log(c.employees)})}}]),e}(),x.\u0275fac=function(c){return new(c||x)(b.Wb(v.a),b.Wb(h.a))},x.\u0275cmp=b.Qb({type:x,selectors:[["app-leave-list"]],decls:8,vars:2,consts:[[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"color","#727cf5"],["class","card",4,"ngIf"],["class","table-responsive pt-3",4,"ngIf"],[2,"color","red"],[1,"table-responsive","pt-3"],[1,"table","table-bordered",2,"background-color","azure"],[2,"background-color","rgb(194, 216, 250)"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","td-actions text-center",4,"ngIf"],[4,"ngIf"],[1,"td-actions","text-center"],["class","btn btn-light btn-icon",3,"click",4,"ngIf"],["class","btn btn-light btn-icon","style","background-color: red;",3,"click",4,"ngIf"],["class","btn btn-light btn-icon ml-2","style","background-color: rgb(115, 250, 115);",3,"click",4,"ngIf"],[1,"btn","btn-light","btn-icon",3,"click"],[1,"feather","icon-info"],[1,"btn","btn-light","btn-icon",2,"background-color","red",3,"click"],[1,"feather","icon-x"],[1,"btn","btn-light","btn-icon","ml-2",2,"background-color","rgb(115, 250, 115)",3,"click"],[1,"feather","icon-check"]],template:function(c,e){1&c&&(b.cc(0,"div",0),b.cc(1,"div",1),b.cc(2,"div",2),b.cc(3,"div",3),b.cc(4,"h6",4),b.Tc(5,"Received Leaves"),b.bc(),b.Rc(6,g,5,0,"div",5),b.Rc(7,O,20,1,"div",6),b.bc(),b.bc(),b.bc(),b.bc()),2&c&&(b.Jb(6),b.uc("ngIf",0==e.countTheRecivedLeaves),b.Jb(1),b.uc("ngIf",0!=e.countTheRecivedLeaves))},directives:[a.n,a.m],pipes:[a.e],styles:[".color-blue[_ngcontent-%COMP%]{color:#7d98e8}td[_ngcontent-%COMP%]{word-wrap:break-word}"]}),x)}]}],P=((C=t(function e(){c(this,e)})).\u0275mod=b.Ub({type:C}),C.\u0275inj=b.Tb({factory:function(c){return new(c||C)},imports:[[a.c,l.h,l.p,s.i.forChild(M),u.a]]}),C)},f4AX:function(e,n,o){"use strict";o.d(n,"a",function(){return s});var i=o("f8oD"),r=o("gQwx"),a=o("8Y7J"),s=function(){var e=function(){function e(t){c(this,e),this.http=t,this.userUrl=r.a.mainApiUrl()+"/user"}return t(e,[{key:"getUsers",value:function(c){return console.log(c),this.http.get(this.userUrl+i.a.objToQuery(c))}},{key:"createUsers",value:function(c){return this.http.post(this.userUrl,c)}},{key:"updateUsers",value:function(c,e){return this.http.patch(this.userUrl+"/"+c,e)}},{key:"updateUser",value:function(c,e){return this.http.patch(this.userUrl+"/"+c,e)}},{key:"deleteUsers",value:function(c){return this.http.delete(this.userUrl+"/"+c)}}]),e}();return e.\u0275fac=function(c){return new(c||e)(a.jc(i.a))},e.\u0275prov=a.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();