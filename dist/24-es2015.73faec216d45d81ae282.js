(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{NB7w:function(t,c,e){"use strict";e.r(c),e.d(c,"LeaveLeadModule",function(){return w});var n=e("SVse"),o=e("iInd"),i=e("w9WL"),a=e("LSHg"),r=e("s7LF"),s=e("RMBY"),l=e("8Y7J"),b=e("hccJ"),d=e("f4AX"),p=e("xkgV");function g(t,c){if(1&t&&(l.cc(0,"div",11),l.cc(1,"form",12),l.cc(2,"div",13),l.cc(3,"select",14),l.cc(4,"option",15),l.Tc(5,"Select Status"),l.bc(),l.cc(6,"option",16),l.Tc(7,"Pending"),l.bc(),l.cc(8,"option",17),l.Tc(9,"Approved"),l.bc(),l.cc(10,"option",18),l.Tc(11,"Declined"),l.bc(),l.bc(),l.bc(),l.cc(12,"div",13),l.cc(13,"select",19),l.cc(14,"option",15),l.Tc(15,"Select Type"),l.bc(),l.cc(16,"option",20),l.Tc(17,"Medical"),l.bc(),l.cc(18,"option",21),l.Tc(19,"Casual"),l.bc(),l.cc(20,"option",22),l.Tc(21,"Privilege"),l.bc(),l.bc(),l.bc(),l.cc(22,"div",13),l.Xb(23,"input",23),l.bc(),l.cc(24,"div",13),l.Xb(25,"input",24),l.bc(),l.cc(26,"div",13),l.cc(27,"button",25),l.Xb(28,"i",26),l.bc(),l.cc(29,"button",27),l.Xb(30,"i",28),l.bc(),l.bc(),l.bc(),l.bc()),2&t){const t=l.oc();l.Jb(3),l.uc("formControl",t.myStatus),l.Jb(10),l.uc("formControl",t.leaveType),l.Jb(10),l.uc("formControl",t.myDate),l.Jb(2),l.uc("formControl",t.myEndDate)}}function u(t,c){if(1&t&&(l.cc(0,"div"),l.Tc(1),l.bc()),2&t){const t=l.oc().$implicit;l.Jb(1),l.Wc("",t.fName," ",t.lName,"")}}function f(t,c){if(1&t&&(l.cc(0,"div"),l.Rc(1,u,2,2,"div",39),l.bc()),2&t){const t=c.$implicit,e=l.oc().$implicit;l.Jb(1),l.uc("ngIf",e.EmployeeId==t._id)}}function h(t,c){if(1&t){const t=l.dc();l.cc(0,"button",44),l.mc("click",function(){l.Jc(t);const c=l.oc(4);return c.show=!c.show}),l.Xb(1,"i",45),l.Tc(2,"\xa0 "),l.bc()}}function m(t,c){if(1&t){const t=l.dc();l.cc(0,"button",46),l.mc("click",function(){l.Jc(t);const c=l.oc(2).$implicit;return l.oc(2).updateDeclineStatus(c._id)}),l.Xb(1,"i",47),l.Tc(2,"\xa0 "),l.bc()}}function v(t,c){if(1&t){const t=l.dc();l.cc(0,"button",48),l.mc("click",function(){l.Jc(t);const c=l.oc(2).$implicit;return l.oc(2).updateApproveStatus(c._id)}),l.Xb(1,"i",49),l.Tc(2,"\xa0 "),l.bc()}}function C(t,c){if(1&t&&(l.cc(0,"td",40),l.Rc(1,h,3,0,"button",41),l.Rc(2,m,3,0,"button",42),l.Rc(3,v,3,0,"button",43),l.bc()),2&t){const t=l.oc(3);l.Jb(1),l.uc("ngIf",!t.show),l.Jb(1),l.uc("ngIf",t.show),l.Jb(1),l.uc("ngIf",t.show)}}function x(t,c){if(1&t&&(l.cc(0,"tr"),l.cc(1,"td"),l.Tc(2),l.bc(),l.cc(3,"td"),l.Rc(4,f,2,1,"div",33),l.bc(),l.cc(5,"td"),l.Tc(6),l.bc(),l.cc(7,"td",36),l.Tc(8),l.pc(9,"date"),l.bc(),l.cc(10,"td",37),l.Tc(11),l.pc(12,"date"),l.bc(),l.cc(13,"td"),l.Tc(14),l.bc(),l.Rc(15,C,4,3,"td",38),l.bc()),2&t){const t=c.$implicit,e=c.index,n=l.oc(2);l.Jb(2),l.Uc(e+1),l.Jb(2),l.uc("ngForOf",n.employees),l.Jb(2),l.Uc(t.leaveType),l.Jb(2),l.Uc(l.qc(9,7,t.startDate)),l.Jb(3),l.Uc(l.qc(12,9,t.endDate)),l.Jb(3),l.Uc(t.reason),l.Jb(1),l.uc("ngIf","Pending"==t.status)}}function P(t,c){if(1&t&&(l.cc(0,"div",29),l.cc(1,"table",30),l.cc(2,"thead",31),l.cc(3,"tr",32),l.cc(4,"th"),l.Tc(5,"#"),l.bc(),l.cc(6,"th"),l.Tc(7,"Employee Name"),l.bc(),l.cc(8,"th"),l.Tc(9,"Leave Type"),l.bc(),l.cc(10,"th"),l.Tc(11,"start Date"),l.bc(),l.cc(12,"th"),l.Tc(13,"End Date"),l.bc(),l.cc(14,"th"),l.Tc(15,"Reason"),l.bc(),l.cc(16,"th"),l.Tc(17,"Action"),l.bc(),l.bc(),l.bc(),l.cc(18,"tbody",32),l.Rc(19,x,16,11,"tr",33),l.bc(),l.bc(),l.cc(20,"div",34),l.cc(21,"pagination-controls",35),l.mc("pageChange",function(t){return t}),l.bc(),l.bc(),l.bc()),2&t){const t=l.oc();l.Jb(19),l.uc("ngForOf",t.officeNewLeaves)}}let O=(()=>{class t{constructor(t,c){this.leaveService=t,this.userService=c,this.leaves=[],this.users=[],this.appointmentTime=new Date,this.show=!1,this.officeLeaves=[],this.countTheRecivedLeaves=0,this.officeNewLeaves=[],this.employeeId="62b08350191ff875b3a114ef",this.employees=[],this.showFilters=!1,this.leaveType=new r.d(""),this.myStatus=new r.d(""),this.myDate=new r.d(""),this.myEndDate=new r.d(""),this.userId=s.a.getLoggedUser().id}ngOnInit(){this.fetchUsers(),this.fetchLeaves()}fetchLeaves(){this.leaveService.getLeaves({}).subscribe(t=>{this.leaves=t;for(let c=0,e=0;c<this.leaves.length;c++)"lead"==this.leaves[c].desigination&&"Pending"==this.leaves[c].status&&(this.officeLeaves[e]=this.leaves[c],this.countTheRecivedLeaves=this.officeLeaves.length,e++);this.officeNewLeaves=this.officeLeaves.reverse()})}refresh(){window.location.reload()}updateApproveStatus(t){this.leaveService.updateLeaves(t,{status:"Approved"}).subscribe(t=>{this.refresh(),console.log("Leaves updated successfully")},t=>{})}updateDeclineStatus(t){this.leaveService.updateLeaves(t,{status:"Declined"}).subscribe(t=>{this.refresh(),console.log("Leaves updated successfully")},t=>{})}fetchUsers(){this.userService.getUsers({}).subscribe(t=>{this.users=t;for(let c=0,e=0;c<this.users.length;c++)this.users[c].RoleId==this.employeeId&&(this.employees[e]=this.users[c],e++);console.log(this.employees)})}}return t.\u0275fac=function(c){return new(c||t)(l.Wb(b.a),l.Wb(d.a))},t.\u0275cmp=l.Qb({type:t,selectors:[["app-leave-lead"]],decls:13,vars:2,consts:[[1,"card-title",2,"margin-bottom","-1%","font-weight","bold"],["type","button",1,"btn","btn-light","btn-icon",2,"float","right",3,"click"],[1,"feather","icon-filter"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"color","#727cf5"],[1,"container-fluid"],["class","filters card","style","margin-bottom: 9px; margin-top: 30px;",4,"ngIf"],["class","table-responsive pt-3",4,"ngIf"],[1,"filters","card",2,"margin-bottom","9px","margin-top","30px"],[1,"form-inline",2,"padding","9px","background-color","white"],[1,"form-group","ml-2"],["id","mySta",1,"form-control",3,"formControl"],["value",""],["value","Pending"],["value","Approved"],["value","Declined"],["id","leaveT",1,"form-control",3,"formControl"],["value","Medical"],["value","Casual"],["value","Privilege"],["type","date","min","0","id","start-date","placeholder","start Date",1,"form-control",3,"formControl"],["type","date","min","0","id","user_max_price","placeholder","End Date",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-primary"],[1,"feather","icon-search"],["type","button",1,"btn","btn-light","ml-1"],[1,"feather","icon-refresh-ccw"],[1,"table-responsive","pt-3"],[1,"table","table-bordered",2,"background-color","azure"],[2,"background-color","rgb(194, 216, 250)"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"pagination","mt-4"],[3,"pageChange"],["value","lev.startDate"],["value","lev.endDate"],["class","td-actions text-center",4,"ngIf"],[4,"ngIf"],[1,"td-actions","text-center"],["class","btn btn-light btn-icon",3,"click",4,"ngIf"],["class","btn btn-light btn-icon","style","background-color: red;",3,"click",4,"ngIf"],["class","btn btn-light btn-icon ml-2","style","background-color: rgb(115, 250, 115);",3,"click",4,"ngIf"],[1,"btn","btn-light","btn-icon",3,"click"],[1,"feather","icon-info"],[1,"btn","btn-light","btn-icon",2,"background-color","red",3,"click"],[1,"feather","icon-x"],[1,"btn","btn-light","btn-icon","ml-2",2,"background-color","rgb(115, 250, 115)",3,"click"],[1,"feather","icon-check"]],template:function(t,c){1&t&&(l.cc(0,"h4",0),l.cc(1,"button",1),l.mc("click",function(){return c.showFilters=!c.showFilters}),l.Xb(2,"i",2),l.Tc(3,"\xa0 "),l.bc(),l.bc(),l.cc(4,"div",3),l.cc(5,"div",4),l.cc(6,"div",5),l.cc(7,"div",6),l.cc(8,"h6",7),l.Tc(9,"Leave List"),l.bc(),l.cc(10,"div",8),l.Rc(11,g,31,4,"div",9),l.bc(),l.Rc(12,P,22,1,"div",10),l.bc(),l.bc(),l.bc(),l.bc()),2&t&&(l.Jb(11),l.uc("ngIf",c.showFilters),l.Jb(1),l.uc("ngIf",0!=c.countTheRecivedLeaves))},directives:[n.n,r.u,r.m,r.n,r.r,r.l,r.e,r.o,r.t,r.b,n.m,p.b],pipes:[n.e],styles:[".color-blue[_ngcontent-%COMP%]{color:#7d98e8}td[_ngcontent-%COMP%]{word-wrap:break-word}.website[_ngcontent-%COMP%]{letter-spacing:.5px;display:block;cursor:pointer;background-color:#313b3f;color:#fcdb42;padding:10px;text-decoration:none;text-align:right}#table-component[_ngcontent-%COMP%], .website[_ngcontent-%COMP%]{font:normal 14px sans-serif}#table-component[_ngcontent-%COMP%]{margin:15px auto 0;border:1px solid #000;border-radius:4px;height:400px;max-width:500px}#table-component[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{background-color:#313b3f;color:#fcdb42;padding:10px;margin:0}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-top:15px;width:100%;border-collapse:collapse}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:10px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:33.3%;font-size:13px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #000;text-align:left;padding-bottom:5px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .pl-15[_ngcontent-%COMP%]{padding-left:15px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #d3d3d3}#table-component[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{font-size:14px;text-align:center;margin:20px auto}#table-component[_ngcontent-%COMP%]     .pagination-next a, #table-component[_ngcontent-%COMP%]     .pagination-previous a{outline:none}#table-component[_ngcontent-%COMP%]     .ngx-pagination .current{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination{padding:0!important}#table-component[_ngcontent-%COMP%]     .ngx-pagination a:hover, #table-component[_ngcontent-%COMP%]     .ngx-pagination button:hover{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination a, #table-component[_ngcontent-%COMP%]     .ngx-pagination button{border-radius:4px;outline:none}@media screen and (max-width:520px){#table-component[_ngcontent-%COMP%]{margin:15px}}"]}),t})();var _=e("KeVr");const M=[{path:"",component:O}];let w=(()=>{class t{}return t.\u0275mod=l.Ub({type:t}),t.\u0275inj=l.Tb({factory:function(c){return new(c||t)},providers:[n.e],imports:[[n.c,o.i.forChild(M),r.i,r.q,i.a,p.a,_.a,a.a.forRoot({apiKey:"AIzaSyAP8n5GbRjUqB9dQfxDfZLJuFam4PjHOTs"})]]}),t})()}}]);