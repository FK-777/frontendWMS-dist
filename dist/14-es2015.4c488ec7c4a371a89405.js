(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{W26d:function(e,c,t){"use strict";t.r(c),t.d(c,"LeaveModule",function(){return k});var n=t("SVse"),o=t("iInd"),r=t("s7LF"),i=t("tyVc"),s=t("8Y7J");let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=s.Qb({type:e,selectors:[["app-leave"]],decls:1,vars:0,template:function(e,c){1&e&&s.Xb(0,"router-outlet")},directives:[o.j],encapsulation:2}),e})(),l=(()=>{class e{constructor(){}ngOnInit(){}openFileBrowser(e){e.preventDefault(),document.querySelector("#fileUploadInputExample").click()}handleFileInput(e){e.target.files.length&&document.querySelector("#fileUploadInputExample + .input-group .file-upload-info").setAttribute("value",e.target.files[0].name)}}return e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=s.Qb({type:e,selectors:[["app-apply-leave"]],decls:52,vars:0,consts:[[1,"card-title","color-blue"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"forms-sample"],[1,"col-sm-4"],[1,"form-group"],["for","exampleInputUsername1"],[1,"form-control","form-control-sm","mb-3","ulineform"],["selected",""],["value","Casual Leave"],["value","Medical Leave"],["type","date","placeholder","Date",1,"form-control","ulineform"],["for","exampleInputEmail1"],["id","exampleFormControlTextarea1","rows","5","placeholder","Spacify Reason",1,"form-control","ulineform"],[1,"form-check","form-check-flat","form-check-primary"],[1,"form-check-label"],["type","checkbox",1,"form-check-input"],[1,"input-frame"],["type","submit",1,"btn","btn-primary","mr-2"],[1,"btn","btn-light"]],template:function(e,c){1&e&&(s.cc(0,"h3",0),s.Tc(1,"Apply Leave"),s.bc(),s.cc(2,"nav",1),s.cc(3,"ol",2),s.cc(4,"li",3),s.cc(5,"a",4),s.Tc(6,"Dashboard"),s.bc(),s.bc(),s.cc(7,"li",3),s.cc(8,"a",4),s.Tc(9,"Leave"),s.bc(),s.bc(),s.cc(10,"li",5),s.Tc(11,"Apply Leave"),s.bc(),s.bc(),s.bc(),s.cc(12,"div",6),s.cc(13,"div",7),s.cc(14,"div",8),s.cc(15,"div",9),s.cc(16,"form",10),s.cc(17,"div",6),s.cc(18,"div",11),s.cc(19,"div",12),s.cc(20,"label",13),s.Tc(21,"Leave Type"),s.bc(),s.cc(22,"select",14),s.cc(23,"option",15),s.Tc(24,"Select"),s.bc(),s.cc(25,"option",16),s.Tc(26,"Casual Leave"),s.bc(),s.cc(27,"option",17),s.Tc(28,"Medical Leave"),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(29,"div",11),s.cc(30,"div",12),s.cc(31,"label",13),s.Tc(32,"Start Date"),s.bc(),s.Xb(33,"input",18),s.bc(),s.bc(),s.cc(34,"div",11),s.cc(35,"div",12),s.cc(36,"label",13),s.Tc(37,"End Date"),s.bc(),s.Xb(38,"input",18),s.bc(),s.bc(),s.bc(),s.cc(39,"div",12),s.cc(40,"label",19),s.Tc(41,"Reason"),s.bc(),s.Xb(42,"textarea",20),s.bc(),s.cc(43,"div",21),s.cc(44,"label",22),s.Xb(45,"input",23),s.Xb(46,"i",24),s.Tc(47," Is it a Half Day? "),s.bc(),s.bc(),s.cc(48,"button",25),s.Tc(49,"Apply Leave"),s.bc(),s.cc(50,"button",26),s.Tc(51,"Cancel"),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc())},directives:[o.h,r.u,r.m,r.n,r.o,r.t],styles:['.back[_ngcontent-%COMP%]{background-color:#7d98e8}.text-color[_ngcontent-%COMP%]{color:#f0fff0}.color-blue[_ngcontent-%COMP%]{color:#7d98e8}.ulineform[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;border:none;border-bottom:1px solid #c2bba7}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:38px;height:18px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc}.slider[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]:before{position:absolute;transition:.4s}.slider[_ngcontent-%COMP%]:before{content:"";height:10px;width:10px;left:4px;bottom:4px;background-color:#fff}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translateX(20px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),e})();var b=t("RMBY"),u=t("hccJ"),d=t("f4AX");function p(e,c){1&e&&(s.cc(0,"div",2),s.cc(1,"div",3),s.cc(2,"div",3),s.cc(3,"h4",7),s.Tc(4,"No Pending Leaves Found"),s.bc(),s.bc(),s.bc(),s.bc())}function h(e,c){if(1&e&&(s.cc(0,"div"),s.Tc(1),s.bc()),2&e){const e=s.oc().$implicit;s.Jb(1),s.Vc("",e.fName," ")}}function f(e,c){if(1&e&&(s.cc(0,"div"),s.Rc(1,h,2,1,"div",14),s.bc()),2&e){const e=c.$implicit,t=s.oc().$implicit;s.Jb(1),s.uc("ngIf",t.EmployeeId==e._id)}}function v(e,c){if(1&e){const e=s.dc();s.cc(0,"button",19),s.mc("click",function(){s.Jc(e);const c=s.oc(4);return c.show=!c.show}),s.Xb(1,"i",20),s.Tc(2,"\xa0 "),s.bc()}}function g(e,c){if(1&e){const e=s.dc();s.cc(0,"button",21),s.mc("click",function(){s.Jc(e);const c=s.oc(2).$implicit;return s.oc(2).updateDeclineStatus(c._id)}),s.Xb(1,"i",22),s.Tc(2,"\xa0 "),s.bc()}}function m(e,c){if(1&e){const e=s.dc();s.cc(0,"button",23),s.mc("click",function(){s.Jc(e);const c=s.oc(2).$implicit;return s.oc(2).updateApproveStatus(c._id)}),s.Xb(1,"i",24),s.Tc(2,"\xa0 "),s.bc()}}function y(e,c){if(1&e&&(s.cc(0,"td",15),s.Rc(1,v,3,0,"button",16),s.Rc(2,g,3,0,"button",17),s.Rc(3,m,3,0,"button",18),s.bc()),2&e){const e=s.oc(3);s.Jb(1),s.uc("ngIf",!e.show),s.Jb(1),s.uc("ngIf",e.show),s.Jb(1),s.uc("ngIf",e.show)}}function T(e,c){if(1&e&&(s.cc(0,"tr"),s.cc(1,"td"),s.Rc(2,f,2,1,"div",12),s.bc(),s.cc(3,"td"),s.Tc(4),s.bc(),s.cc(5,"td"),s.Tc(6),s.pc(7,"date"),s.bc(),s.cc(8,"td"),s.Tc(9),s.pc(10,"date"),s.bc(),s.cc(11,"td"),s.Tc(12),s.bc(),s.cc(13,"td"),s.Tc(14),s.bc(),s.Rc(15,y,4,3,"td",13),s.bc()),2&e){const e=c.$implicit,t=s.oc(2);s.Jb(2),s.uc("ngForOf",t.employees),s.Jb(2),s.Uc(e.leaveType),s.Jb(2),s.Uc(s.qc(7,7,e.startDate)),s.Jb(3),s.Uc(s.qc(10,9,e.endDate)),s.Jb(3),s.Uc(e.reason),s.Jb(2),s.Uc(e.desigination),s.Jb(1),s.uc("ngIf","Pending"==e.status)}}function w(e,c){if(1&e&&(s.cc(0,"div",8),s.cc(1,"table",9),s.cc(2,"thead",10),s.cc(3,"tr",11),s.cc(4,"th"),s.Tc(5,"Employee Name"),s.bc(),s.cc(6,"th"),s.Tc(7,"Leave Type"),s.bc(),s.cc(8,"th"),s.Tc(9,"start Date"),s.bc(),s.cc(10,"th"),s.Tc(11,"End Date"),s.bc(),s.cc(12,"th"),s.Tc(13,"Reason"),s.bc(),s.cc(14,"th"),s.Tc(15,"Designation"),s.bc(),s.cc(16,"th"),s.Tc(17,"More"),s.bc(),s.bc(),s.bc(),s.cc(18,"tbody",11),s.Rc(19,T,16,11,"tr",12),s.bc(),s.bc(),s.bc()),2&e){const e=s.oc();s.Jb(19),s.uc("ngForOf",e.officeNewLeaves)}}const L=[{path:"",component:a,children:[{path:"",redirectTo:"basic-elements",pathMatch:"full"},{path:"apply-leave",component:l},{path:"leave-list",component:(()=>{class e{constructor(e,c){this.leaveService=e,this.userService=c,this.leaves=[],this.users=[],this.show=!1,this.officeLeaves=[],this.countTheRecivedLeaves=0,this.officeNewLeaves=[],this.employeeId="62b08350191ff875b3a114ef",this.employees=[],this.userId=b.a.getLoggedUser().id}ngOnInit(){this.fetchUsers(),this.fetchLeaves()}fetchLeaves(){this.leaveService.getLeaves({}).subscribe(e=>{this.leaves=e;for(let c=0,t=0;c<this.leaves.length;c++)this.leaves[c].OfficeId==this.userId&&"Pending"==this.leaves[c].status&&"lead"!=this.leaves[c].desigination&&(this.officeLeaves[t]=this.leaves[c],this.countTheRecivedLeaves=this.officeLeaves.length,t++);this.officeNewLeaves=this.officeLeaves.reverse()})}refresh(){window.location.reload()}updateApproveStatus(e){this.leaveService.updateLeaves(e,{status:"Approved"}).subscribe(e=>{this.refresh(),console.log("Leaves updated successfully")},e=>{})}updateDeclineStatus(e){this.leaveService.updateLeaves(e,{status:"Declined"}).subscribe(e=>{this.refresh(),console.log("Leaves updated successfully")},e=>{})}fetchUsers(){this.userService.getUsers({}).subscribe(e=>{this.users=e;for(let c=0,t=0;c<this.users.length;c++)this.users[c].RoleId==this.employeeId&&this.users[c].OfficeId==this.userId&&(this.employees[t]=this.users[c],t++);console.log(this.employees)})}}return e.\u0275fac=function(c){return new(c||e)(s.Wb(u.a),s.Wb(d.a))},e.\u0275cmp=s.Qb({type:e,selectors:[["app-leave-list"]],decls:8,vars:2,consts:[[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"color","#727cf5"],["class","card",4,"ngIf"],["class","table-responsive pt-3",4,"ngIf"],[2,"color","red"],[1,"table-responsive","pt-3"],[1,"table","table-bordered",2,"background-color","azure"],[2,"background-color","rgb(194, 216, 250)"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","td-actions text-center",4,"ngIf"],[4,"ngIf"],[1,"td-actions","text-center"],["class","btn btn-light btn-icon",3,"click",4,"ngIf"],["class","btn btn-light btn-icon","style","background-color: red;",3,"click",4,"ngIf"],["class","btn btn-light btn-icon ml-2","style","background-color: rgb(115, 250, 115);",3,"click",4,"ngIf"],[1,"btn","btn-light","btn-icon",3,"click"],[1,"feather","icon-info"],[1,"btn","btn-light","btn-icon",2,"background-color","red",3,"click"],[1,"feather","icon-x"],[1,"btn","btn-light","btn-icon","ml-2",2,"background-color","rgb(115, 250, 115)",3,"click"],[1,"feather","icon-check"]],template:function(e,c){1&e&&(s.cc(0,"div",0),s.cc(1,"div",1),s.cc(2,"div",2),s.cc(3,"div",3),s.cc(4,"h6",4),s.Tc(5,"Received Leaves"),s.bc(),s.Rc(6,p,5,0,"div",5),s.Rc(7,w,20,1,"div",6),s.bc(),s.bc(),s.bc(),s.bc()),2&e&&(s.Jb(6),s.uc("ngIf",0==c.countTheRecivedLeaves),s.Jb(1),s.uc("ngIf",0!=c.countTheRecivedLeaves))},directives:[n.n,n.m],pipes:[n.e],styles:[".color-blue[_ngcontent-%COMP%]{color:#7d98e8}td[_ngcontent-%COMP%]{word-wrap:break-word}"]}),e})()}]}];let k=(()=>{class e{}return e.\u0275mod=s.Ub({type:e}),e.\u0275inj=s.Tb({factory:function(c){return new(c||e)},imports:[[n.c,r.i,r.q,o.i.forChild(L),i.a]]}),e})()},f4AX:function(e,c,t){"use strict";t.d(c,"a",function(){return i});var n=t("f8oD"),o=t("gQwx"),r=t("8Y7J");let i=(()=>{class e{constructor(e){this.http=e,this.userUrl=o.a.mainApiUrl()+"/user"}getUsers(e){return console.log(e),this.http.get(this.userUrl+n.a.objToQuery(e))}createUsers(e){return this.http.post(this.userUrl,e)}updateUsers(e,c){return this.http.patch(this.userUrl+"/"+e,c)}updateUser(e,c){return this.http.patch(this.userUrl+"/"+e,c)}deleteUsers(e){return this.http.delete(this.userUrl+"/"+e)}}return e.\u0275fac=function(c){return new(c||e)(r.jc(n.a))},e.\u0275prov=r.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},hccJ:function(e,c,t){"use strict";t.d(c,"a",function(){return i});var n=t("f8oD"),o=t("gQwx"),r=t("8Y7J");let i=(()=>{class e{constructor(e){this.http=e,this.leaveUrl=o.a.mainApiUrl()+"/leave"}getLeaves(e){return this.http.get(this.leaveUrl+n.a.objToQuery(e))}createLeaves(e){return console.log("Create!"),console.log(e),console.log(this.leaveUrl),this.http.post(this.leaveUrl,e)}updateLeaves(e,c){return this.http.patch(this.leaveUrl+"/"+e,c)}deleteLeaves(e){return this.http.delete(this.leaveUrl+"/"+e)}}return e.\u0275fac=function(c){return new(c||e)(r.jc(n.a))},e.\u0275prov=r.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);