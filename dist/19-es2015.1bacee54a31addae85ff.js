(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{W26d:function(c,e,t){"use strict";t.r(e),t.d(e,"LeaveModule",function(){return I});var n=t("SVse"),o=t("iInd"),i=t("s7LF"),r=t("tyVc"),s=t("8Y7J");let a=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=s.Qb({type:c,selectors:[["app-leave"]],decls:1,vars:0,template:function(c,e){1&c&&s.Xb(0,"router-outlet")},directives:[o.j],encapsulation:2}),c})(),l=(()=>{class c{constructor(){}ngOnInit(){}openFileBrowser(c){c.preventDefault(),document.querySelector("#fileUploadInputExample").click()}handleFileInput(c){c.target.files.length&&document.querySelector("#fileUploadInputExample + .input-group .file-upload-info").setAttribute("value",c.target.files[0].name)}}return c.\u0275fac=function(e){return new(e||c)},c.\u0275cmp=s.Qb({type:c,selectors:[["app-apply-leave"]],decls:52,vars:0,consts:[[1,"card-title","color-blue"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"forms-sample"],[1,"col-sm-4"],[1,"form-group"],["for","exampleInputUsername1"],[1,"form-control","form-control-sm","mb-3","ulineform"],["selected",""],["value","Casual Leave"],["value","Medical Leave"],["type","date","placeholder","Date",1,"form-control","ulineform"],["for","exampleInputEmail1"],["id","exampleFormControlTextarea1","rows","5","placeholder","Spacify Reason",1,"form-control","ulineform"],[1,"form-check","form-check-flat","form-check-primary"],[1,"form-check-label"],["type","checkbox",1,"form-check-input"],[1,"input-frame"],["type","submit",1,"btn","btn-primary","mr-2"],[1,"btn","btn-light"]],template:function(c,e){1&c&&(s.cc(0,"h3",0),s.Tc(1,"Apply Leave"),s.bc(),s.cc(2,"nav",1),s.cc(3,"ol",2),s.cc(4,"li",3),s.cc(5,"a",4),s.Tc(6,"Dashboard"),s.bc(),s.bc(),s.cc(7,"li",3),s.cc(8,"a",4),s.Tc(9,"Leave"),s.bc(),s.bc(),s.cc(10,"li",5),s.Tc(11,"Apply Leave"),s.bc(),s.bc(),s.bc(),s.cc(12,"div",6),s.cc(13,"div",7),s.cc(14,"div",8),s.cc(15,"div",9),s.cc(16,"form",10),s.cc(17,"div",6),s.cc(18,"div",11),s.cc(19,"div",12),s.cc(20,"label",13),s.Tc(21,"Leave Type"),s.bc(),s.cc(22,"select",14),s.cc(23,"option",15),s.Tc(24,"Select"),s.bc(),s.cc(25,"option",16),s.Tc(26,"Casual Leave"),s.bc(),s.cc(27,"option",17),s.Tc(28,"Medical Leave"),s.bc(),s.bc(),s.bc(),s.bc(),s.cc(29,"div",11),s.cc(30,"div",12),s.cc(31,"label",13),s.Tc(32,"Start Date"),s.bc(),s.Xb(33,"input",18),s.bc(),s.bc(),s.cc(34,"div",11),s.cc(35,"div",12),s.cc(36,"label",13),s.Tc(37,"End Date"),s.bc(),s.Xb(38,"input",18),s.bc(),s.bc(),s.bc(),s.cc(39,"div",12),s.cc(40,"label",19),s.Tc(41,"Reason"),s.bc(),s.Xb(42,"textarea",20),s.bc(),s.cc(43,"div",21),s.cc(44,"label",22),s.Xb(45,"input",23),s.Xb(46,"i",24),s.Tc(47," Is it a Half Day? "),s.bc(),s.bc(),s.cc(48,"button",25),s.Tc(49,"Apply Leave"),s.bc(),s.cc(50,"button",26),s.Tc(51,"Cancel"),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc())},directives:[o.h,i.u,i.m,i.n,i.o,i.t],styles:['.back[_ngcontent-%COMP%]{background-color:#7d98e8}.text-color[_ngcontent-%COMP%]{color:#f0fff0}.color-blue[_ngcontent-%COMP%]{color:#7d98e8}.ulineform[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;border:none;border-bottom:1px solid #c2bba7}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:38px;height:18px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc}.slider[_ngcontent-%COMP%], .slider[_ngcontent-%COMP%]:before{position:absolute;transition:.4s}.slider[_ngcontent-%COMP%]:before{content:"";height:10px;width:10px;left:4px;bottom:4px;background-color:#fff}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translateX(20px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']}),c})();var b=t("RMBY"),d=t("hccJ"),u=t("f4AX");function p(c,e){1&c&&(s.cc(0,"div",2),s.cc(1,"div",3),s.cc(2,"div",3),s.cc(3,"h4",7),s.Tc(4,"No Pending Leaves Found"),s.bc(),s.bc(),s.bc(),s.bc())}function f(c,e){if(1&c&&(s.cc(0,"div"),s.Tc(1),s.bc()),2&c){const c=s.oc().$implicit;s.Jb(1),s.Vc("",c.fName," ")}}function h(c,e){if(1&c&&(s.cc(0,"div"),s.Rc(1,f,2,1,"div",14),s.bc()),2&c){const c=e.$implicit,t=s.oc().$implicit;s.Jb(1),s.uc("ngIf",t.EmployeeId==c._id)}}function v(c,e){if(1&c){const c=s.dc();s.cc(0,"button",19),s.mc("click",function(){s.Jc(c);const e=s.oc(4);return e.show=!e.show}),s.Xb(1,"i",20),s.Tc(2,"\xa0 "),s.bc()}}function g(c,e){if(1&c){const c=s.dc();s.cc(0,"button",21),s.mc("click",function(){s.Jc(c);const e=s.oc(2).$implicit;return s.oc(2).updateDeclineStatus(e._id)}),s.Xb(1,"i",22),s.Tc(2,"\xa0 "),s.bc()}}function m(c,e){if(1&c){const c=s.dc();s.cc(0,"button",23),s.mc("click",function(){s.Jc(c);const e=s.oc(2).$implicit;return s.oc(2).updateApproveStatus(e._id)}),s.Xb(1,"i",24),s.Tc(2,"\xa0 "),s.bc()}}function y(c,e){if(1&c&&(s.cc(0,"td",15),s.Rc(1,v,3,0,"button",16),s.Rc(2,g,3,0,"button",17),s.Rc(3,m,3,0,"button",18),s.bc()),2&c){const c=s.oc(3);s.Jb(1),s.uc("ngIf",!c.show),s.Jb(1),s.uc("ngIf",c.show),s.Jb(1),s.uc("ngIf",c.show)}}function T(c,e){if(1&c&&(s.cc(0,"tr"),s.cc(1,"td"),s.Rc(2,h,2,1,"div",12),s.bc(),s.cc(3,"td"),s.Tc(4),s.bc(),s.cc(5,"td"),s.Tc(6),s.pc(7,"date"),s.bc(),s.cc(8,"td"),s.Tc(9),s.pc(10,"date"),s.bc(),s.cc(11,"td"),s.Tc(12),s.bc(),s.cc(13,"td"),s.Tc(14),s.bc(),s.Rc(15,y,4,3,"td",13),s.bc()),2&c){const c=e.$implicit,t=s.oc(2);s.Jb(2),s.uc("ngForOf",t.employees),s.Jb(2),s.Uc(c.leaveType),s.Jb(2),s.Uc(s.qc(7,7,c.startDate)),s.Jb(3),s.Uc(s.qc(10,9,c.endDate)),s.Jb(3),s.Uc(c.reason),s.Jb(2),s.Uc(c.desigination),s.Jb(1),s.uc("ngIf","Pending"==c.status)}}function w(c,e){if(1&c&&(s.cc(0,"div",8),s.cc(1,"table",9),s.cc(2,"thead",10),s.cc(3,"tr",11),s.cc(4,"th"),s.Tc(5,"Employee Name"),s.bc(),s.cc(6,"th"),s.Tc(7,"Leave Type"),s.bc(),s.cc(8,"th"),s.Tc(9,"start Date"),s.bc(),s.cc(10,"th"),s.Tc(11,"End Date"),s.bc(),s.cc(12,"th"),s.Tc(13,"Reason"),s.bc(),s.cc(14,"th"),s.Tc(15,"Designation"),s.bc(),s.cc(16,"th"),s.Tc(17,"More"),s.bc(),s.bc(),s.bc(),s.cc(18,"tbody",11),s.Rc(19,T,16,11,"tr",12),s.bc(),s.bc(),s.bc()),2&c){const c=s.oc();s.Jb(19),s.uc("ngForOf",c.officeNewLeaves)}}const k=[{path:"",component:a,children:[{path:"",redirectTo:"basic-elements",pathMatch:"full"},{path:"apply-leave",component:l},{path:"leave-list",component:(()=>{class c{constructor(c,e){this.leaveService=c,this.userService=e,this.leaves=[],this.users=[],this.show=!1,this.officeLeaves=[],this.countTheRecivedLeaves=0,this.officeNewLeaves=[],this.employeeId="62b08350191ff875b3a114ef",this.employees=[],this.userId=b.a.getLoggedUser().id}ngOnInit(){this.fetchUsers(),this.fetchLeaves()}fetchLeaves(){this.leaveService.getLeaves({}).subscribe(c=>{this.leaves=c;for(let e=0,t=0;e<this.leaves.length;e++)this.leaves[e].OfficeId==this.userId&&"Pending"==this.leaves[e].status&&"lead"!=this.leaves[e].desigination&&(this.officeLeaves[t]=this.leaves[e],this.countTheRecivedLeaves=this.officeLeaves.length,t++);this.officeNewLeaves=this.officeLeaves.reverse()})}refresh(){window.location.reload()}updateApproveStatus(c){this.leaveService.updateLeaves(c,{status:"Approved"}).subscribe(c=>{this.refresh(),console.log("Leaves updated successfully")},c=>{})}updateDeclineStatus(c){this.leaveService.updateLeaves(c,{status:"Declined"}).subscribe(c=>{this.refresh(),console.log("Leaves updated successfully")},c=>{})}fetchUsers(){this.userService.getUsers({}).subscribe(c=>{this.users=c;for(let e=0,t=0;e<this.users.length;e++)this.users[e].RoleId==this.employeeId&&this.users[e].OfficeId==this.userId&&(this.employees[t]=this.users[e],t++);console.log(this.employees)})}}return c.\u0275fac=function(e){return new(e||c)(s.Wb(d.a),s.Wb(u.a))},c.\u0275cmp=s.Qb({type:c,selectors:[["app-leave-list"]],decls:8,vars:2,consts:[[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"color","#727cf5"],["class","card",4,"ngIf"],["class","table-responsive pt-3",4,"ngIf"],[2,"color","red"],[1,"table-responsive","pt-3"],[1,"table","table-bordered",2,"background-color","azure"],[2,"background-color","rgb(194, 216, 250)"],[1,"text-center"],[4,"ngFor","ngForOf"],["class","td-actions text-center",4,"ngIf"],[4,"ngIf"],[1,"td-actions","text-center"],["class","btn btn-light btn-icon",3,"click",4,"ngIf"],["class","btn btn-light btn-icon","style","background-color: red;",3,"click",4,"ngIf"],["class","btn btn-light btn-icon ml-2","style","background-color: rgb(115, 250, 115);",3,"click",4,"ngIf"],[1,"btn","btn-light","btn-icon",3,"click"],[1,"feather","icon-info"],[1,"btn","btn-light","btn-icon",2,"background-color","red",3,"click"],[1,"feather","icon-x"],[1,"btn","btn-light","btn-icon","ml-2",2,"background-color","rgb(115, 250, 115)",3,"click"],[1,"feather","icon-check"]],template:function(c,e){1&c&&(s.cc(0,"div",0),s.cc(1,"div",1),s.cc(2,"div",2),s.cc(3,"div",3),s.cc(4,"h6",4),s.Tc(5,"Received Leaves"),s.bc(),s.Rc(6,p,5,0,"div",5),s.Rc(7,w,20,1,"div",6),s.bc(),s.bc(),s.bc(),s.bc()),2&c&&(s.Jb(6),s.uc("ngIf",0==e.countTheRecivedLeaves),s.Jb(1),s.uc("ngIf",0!=e.countTheRecivedLeaves))},directives:[n.n,n.m],pipes:[n.e],styles:[".color-blue[_ngcontent-%COMP%]{color:#7d98e8}td[_ngcontent-%COMP%]{word-wrap:break-word}"]}),c})()}]}];let I=(()=>{class c{}return c.\u0275mod=s.Ub({type:c}),c.\u0275inj=s.Tb({factory:function(e){return new(e||c)},imports:[[n.c,i.i,i.q,o.i.forChild(k),r.a]]}),c})()},f4AX:function(c,e,t){"use strict";t.d(e,"a",function(){return r});var n=t("f8oD"),o=t("gQwx"),i=t("8Y7J");let r=(()=>{class c{constructor(c){this.http=c,this.userUrl=o.a.mainApiUrl()+"/user"}getUsers(c){return console.log(c),this.http.get(this.userUrl+n.a.objToQuery(c))}createUsers(c){return this.http.post(this.userUrl,c)}updateUsers(c,e){return this.http.patch(this.userUrl+"/"+c,e)}updateUser(c,e){return this.http.patch(this.userUrl+"/"+c,e)}deleteUsers(c){return this.http.delete(this.userUrl+"/"+c)}}return c.\u0275fac=function(e){return new(e||c)(i.jc(n.a))},c.\u0275prov=i.Sb({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);