!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function n(t,n,c){return n&&e(t.prototype,n),c&&e(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"AVv/":function(e,c,o){"use strict";o.r(c),o.d(c,"AttendenceAllModule",function(){return L});var i,a=o("ofXK"),r=o("tyNb"),d=o("lDzL"),b=o("pxUr"),s=o("3Pt+"),l=o("RMBY"),u=o("fXoL"),f=o("XBNL"),p=o("f4AX"),g=o("oOf3"),h=((i=function(){function e(){t(this,e)}return n(e,[{key:"transform",value:function(t,e,n){return e.forEach(function(e,c){e&&(t=t.filter(function(t){return-1!==t[n[c]].toString().toLowerCase().indexOf(e.toString().toLowerCase())}))}),t}}]),e}()).\u0275fac=function(t){return new(t||i)},i.\u0275pipe=u.Vb({name:"four",type:i,pure:!0}),i);function m(t,e){if(1&t&&(u.cc(0,"div",24),u.cc(1,"form",25),u.Xb(2,"div",26),u.cc(3,"div",26),u.cc(4,"select",27),u.cc(5,"option",28),u.Uc(6,"Select Status"),u.bc(),u.cc(7,"option",29),u.Uc(8,"Present"),u.bc(),u.cc(9,"option",30),u.Uc(10,"Absent"),u.bc(),u.bc(),u.bc(),u.cc(11,"div",26),u.Xb(12,"input",31),u.bc(),u.cc(13,"div",26),u.cc(14,"button",32),u.Xb(15,"i",33),u.bc(),u.cc(16,"button",34),u.Xb(17,"i",35),u.bc(),u.bc(),u.bc(),u.bc()),2&t){var n=u.oc();u.Jb(4),u.vc("formControl",n.myStatus),u.Jb(8),u.vc("formControl",n.myDate)}}function v(t,e){if(1&t&&(u.cc(0,"div"),u.Uc(1),u.bc()),2&t){var n=u.oc().$implicit;u.Jb(1),u.Xc("",n.fName," ",n.designation," ")}}function y(t,e){if(1&t&&(u.cc(0,"div"),u.Sc(1,v,2,2,"div",37),u.bc()),2&t){var n=e.$implicit,c=u.oc().$implicit;u.Jb(1),u.vc("ngIf",c.EmployeeId==n._id)}}function C(t,e){if(1&t&&(u.cc(0,"div"),u.Uc(1),u.bc()),2&t){var n=u.oc().$implicit;u.Jb(1),u.Wc("",n.designation," ")}}function O(t,e){if(1&t&&(u.cc(0,"div"),u.Sc(1,C,2,1,"div",37),u.bc()),2&t){var n=e.$implicit,c=u.oc().$implicit;u.Jb(1),u.vc("ngIf",c.EmployeeId==n._id)}}function P(t,e){if(1&t&&(u.cc(0,"td"),u.cc(1,"span",38),u.Uc(2),u.bc(),u.bc()),2&t){var n=u.oc().$implicit;u.Jb(2),u.Vc(n.isVerified)}}function x(t,e){if(1&t&&(u.cc(0,"td"),u.cc(1,"span",39),u.Uc(2),u.bc(),u.bc()),2&t){var n=u.oc().$implicit;u.Jb(2),u.Vc(n.isVerified)}}function M(t,e){if(1&t&&(u.cc(0,"tr"),u.cc(1,"td"),u.Uc(2),u.bc(),u.cc(3,"td"),u.Sc(4,y,2,1,"div",21),u.bc(),u.cc(5,"td"),u.Sc(6,O,2,1,"div",21),u.bc(),u.cc(7,"td",36),u.Uc(8),u.bc(),u.cc(9,"td"),u.Uc(10),u.bc(),u.cc(11,"td"),u.Uc(12),u.bc(),u.cc(13,"td"),u.Uc(14),u.bc(),u.cc(15,"td"),u.Uc(16,"2"),u.bc(),u.Sc(17,P,3,1,"td",37),u.Sc(18,x,3,1,"td",37),u.bc()),2&t){var n=e.$implicit,c=e.index,o=u.oc();u.Jb(2),u.Vc(c+1),u.Jb(2),u.vc("ngForOf",o.employees),u.Jb(2),u.vc("ngForOf",o.employees),u.Jb(2),u.Vc(n.date),u.Jb(2),u.Vc(n.inTime),u.Jb(2),u.Vc(n.inTime),u.Jb(2),u.Vc(n.status),u.Jb(3),u.vc("ngIf",1==n.isVerified),u.Jb(1),u.vc("ngIf",0==n.isVerified)}}var _,w,U=function(t,e,n){return[t,e,n]},k=function(){return["isVerified","status","date"]},S=((_=function(){function e(n,c,o){t(this,e),this.attendanceService=n,this.datepipe=c,this.userService=o,this.dateToday=Date.now(),this.attendance=[],this.users=[],this.officeLeaves=[],this.countTheRecivedLeaves=0,this.officeNewLeaves=[],this.verification=new s.d(""),this.myStatus=new s.d(""),this.myDate=new s.d(""),this.showFilters=!1,this.employeeId="62b08350191ff875b3a114ef",this.employees=[],this.userId=l.a.getLoggedUser().id}return n(e,[{key:"ngOnInit",value:function(){this.fetchCurentDate(),this.fetchAttendances(),this.fetchUsers()}},{key:"refresh",value:function(){window.location.reload()}},{key:"fetchCurentDate",value:function(){this.currentDateTime=this.datepipe.transform(new Date,"dd/MM/yyyy"),console.log(this.currentDateTime)}},{key:"updateApproveStatus",value:function(t){var e=this;this.attendanceService.updateAttendance(t,{isVerified:!0}).subscribe(function(t){e.refresh(),console.log("Attendance updated successfully")},function(t){})}},{key:"fetchAttendances",value:function(){var t=this;this.attendanceService.getAttendance({}).subscribe(function(e){t.attendance=e,t.fetchCurentDate();for(var n=0,c=0;n<t.attendance.length;n++)t.attendance[n].OfficeId==t.userId&&(t.officeLeaves[c]=t.attendance[n],t.countTheRecivedLeaves=t.officeLeaves.length,c++),t.config={itemsPerPage:5,currentPage:1,totalItems:t.countTheRecivedLeaves};t.officeNewLeaves=t.officeLeaves.reverse()})}},{key:"pageChanged",value:function(t){this.config.currentPage=t}},{key:"fetchUsers",value:function(){var t=this;this.userService.getUsers({}).subscribe(function(e){t.users=e;for(var n=0,c=0;n<t.users.length;n++)t.users[n].RoleId==t.employeeId&&(t.employees[c]=t.users[n],c++);console.log(t.employees)})}}]),e}()).\u0275fac=function(t){return new(t||_)(u.Wb(f.a),u.Wb(a.e),u.Wb(p.a))},_.\u0275cmp=u.Qb({type:_,selectors:[["app-attendence-all"]],decls:49,vars:14,consts:[[1,"row"],[1,"col-md-12"],[1,"card-title","color-blue"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"card-title",2,"margin-bottom","-1%","font-weight","bold"],["type","button",1,"btn","btn-light","btn-icon",2,"float","right",3,"click"],[1,"feather","icon-filter"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"color","#727cf5"],[1,"table-responsive","pt-3"],[1,"container-fluid"],["class","filters card","style","margin-bottom: 9px; margin-top: 30px;",4,"ngIf"],[1,"table","table-bordered",2,"background-color","azure"],[2,"background-color","rgb(194, 216, 250)"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"pagination","mt-4"],[3,"pageChange"],[1,"filters","card",2,"margin-bottom","9px","margin-top","30px"],[1,"form-inline",2,"padding","9px","background-color","white"],[1,"form-group","ml-2"],["id","mySta",1,"form-control",3,"formControl"],["value",""],["value","Present"],["value","Absent"],["type","date","min","0","id","myD","placeholder","Date",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-primary"],[1,"feather","icon-search"],["type","button",1,"btn","btn-light","ml-1"],[1,"feather","icon-refresh-ccw"],["value","att.date"],[4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(u.cc(0,"div",0),u.cc(1,"div",1),u.cc(2,"h3",2),u.Uc(3,"All Attendance"),u.bc(),u.cc(4,"nav",3),u.cc(5,"ol",4),u.cc(6,"li",5),u.cc(7,"a",6),u.Uc(8,"Dashboard"),u.bc(),u.bc(),u.cc(9,"li",7),u.Uc(10,"All Attendance"),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.cc(11,"h4",8),u.cc(12,"button",9),u.mc("click",function(){return e.showFilters=!e.showFilters}),u.Xb(13,"i",10),u.Uc(14,"\xa0 "),u.bc(),u.bc(),u.cc(15,"div",0),u.cc(16,"div",11),u.cc(17,"div",12),u.cc(18,"div",13),u.cc(19,"h6",14),u.Uc(20,"Attendance List"),u.bc(),u.cc(21,"div",15),u.cc(22,"div",16),u.Sc(23,m,18,2,"div",17),u.bc(),u.cc(24,"table",18),u.cc(25,"thead",19),u.cc(26,"tr",20),u.cc(27,"th"),u.Uc(28,"#"),u.bc(),u.cc(29,"th"),u.Uc(30,"Employee Name"),u.bc(),u.cc(31,"th"),u.Uc(32,"Designation"),u.bc(),u.cc(33,"th"),u.Uc(34,"Date"),u.bc(),u.cc(35,"th"),u.Uc(36,"In-Time"),u.bc(),u.cc(37,"th"),u.Uc(38,"Out-Time"),u.bc(),u.cc(39,"th"),u.Uc(40,"Status"),u.bc(),u.cc(41,"th"),u.Uc(42,"Verification"),u.bc(),u.bc(),u.bc(),u.cc(43,"tbody",20),u.Sc(44,M,19,9,"tr",21),u.pc(45,"four"),u.pc(46,"paginate"),u.bc(),u.bc(),u.cc(47,"div",22),u.cc(48,"pagination-controls",23),u.mc("pageChange",function(t){return e.pageChanged(t)}),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc(),u.bc()),2&t&&(u.Jb(23),u.vc("ngIf",e.showFilters),u.Jb(21),u.vc("ngForOf",u.sc(45,2,u.rc(46,6,e.officeNewLeaves,e.config),u.Bc(9,U,e.verification.value,e.myStatus.value,e.myDate.value),u.yc(13,k))))},directives:[r.h,a.n,a.m,g.c,s.u,s.m,s.n,s.r,s.l,s.e,s.o,s.t,s.b],pipes:[h,g.b],styles:[".color-blue[_ngcontent-%COMP%]{color:#7d98e8}td[_ngcontent-%COMP%]{word-wrap:break-word}.website[_ngcontent-%COMP%]{letter-spacing:.5px;display:block;cursor:pointer;background-color:#313b3f;color:#fcdb42;padding:10px;text-decoration:none;text-align:right}#table-component[_ngcontent-%COMP%], .website[_ngcontent-%COMP%]{font:normal 14px sans-serif}#table-component[_ngcontent-%COMP%]{margin:15px auto 0;border:1px solid #000;border-radius:4px;height:400px;max-width:500px}#table-component[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{background-color:#313b3f;color:#fcdb42;padding:10px;margin:0}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-top:15px;width:100%;border-collapse:collapse}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:10px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:33.3%;font-size:13px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #000;text-align:left;padding-bottom:5px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .pl-15[_ngcontent-%COMP%]{padding-left:15px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #d3d3d3}#table-component[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{font-size:14px;text-align:center;margin:20px auto}#table-component[_ngcontent-%COMP%]     .pagination-next a, #table-component[_ngcontent-%COMP%]     .pagination-previous a{outline:none}#table-component[_ngcontent-%COMP%]     .ngx-pagination .current{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination{padding:0!important}#table-component[_ngcontent-%COMP%]     .ngx-pagination a:hover, #table-component[_ngcontent-%COMP%]     .ngx-pagination button:hover{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination a, #table-component[_ngcontent-%COMP%]     .ngx-pagination button{border-radius:4px;outline:none}@media screen and (max-width:520px){#table-component[_ngcontent-%COMP%]{margin:15px}}"]}),_),A=o("cZdB"),J=[{path:"",component:S}],L=((w=n(function e(){t(this,e)})).\u0275mod=u.Ub({type:w}),w.\u0275inj=u.Tb({factory:function(t){return new(t||w)},providers:[a.e],imports:[[a.c,r.i.forChild(J),d.a,s.i,s.q,g.a,A.a,b.a.forRoot({apiKey:"AIzaSyAP8n5GbRjUqB9dQfxDfZLJuFam4PjHOTs"})]]}),w)},XBNL:function(e,c,o){"use strict";o.d(c,"a",function(){return d});var i=o("f8oD"),a=o("gQwx"),r=o("fXoL"),d=function(){var e=function(){function e(n){t(this,e),this.http=n,this.attendanceUrl=a.a.mainApiUrl()+"/attendance"}return n(e,[{key:"getAttendance",value:function(t){return this.http.get(this.attendanceUrl+i.a.objToQuery(t))}},{key:"createAttendance",value:function(t){return console.log("Create!"),console.log(t),console.log(this.attendanceUrl),this.http.post(this.attendanceUrl,t)}},{key:"updateAttendance",value:function(t,e){return this.http.patch(this.attendanceUrl+"/"+t,e)}},{key:"deleteAttendance",value:function(t){return this.http.delete(this.attendanceUrl+"/"+t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.jc(i.a))},e.\u0275prov=r.Sb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();