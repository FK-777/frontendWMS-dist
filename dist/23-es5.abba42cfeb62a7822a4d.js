!function(){function e(e,c){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}function c(e,c){for(var t=0;t<c.length;t++){var n=c[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+6Cr":function(c,n,o){"use strict";o.r(n),o.d(n,"LeaveHistroyModule",function(){return T});var i,a=o("ofXK"),r=o("tyNb"),s=o("lDzL"),l=o("pxUr"),b=o("3Pt+"),f=o("fXoL"),d=o("hccJ"),u=o("f4AX"),p=o("oOf3"),g=((i=function(){function c(){e(this,c)}return t(c,[{key:"transform",value:function(e,c,t){return c.forEach(function(c,n){c&&(e=e.filter(function(e){return-1!==e[t[n]].toString().toLowerCase().indexOf(c.toString().toLowerCase())}))}),e}}]),c}()).\u0275fac=function(e){return new(e||i)},i.\u0275pipe=f.Vb({name:"one",type:i,pure:!0}),i);function v(e,c){if(1&e){var t=f.dc();f.cc(0,"div",24),f.cc(1,"form",25),f.cc(2,"div",26),f.cc(3,"select",27),f.cc(4,"option",28),f.Uc(5,"Select Status"),f.bc(),f.cc(6,"option",29),f.Uc(7,"Pending"),f.bc(),f.cc(8,"option",30),f.Uc(9,"Approved"),f.bc(),f.cc(10,"option",31),f.Uc(11,"Declined"),f.bc(),f.bc(),f.bc(),f.cc(12,"div",26),f.cc(13,"select",32),f.cc(14,"option",28),f.Uc(15,"Select Type"),f.bc(),f.cc(16,"option",33),f.Uc(17,"Medical"),f.bc(),f.cc(18,"option",34),f.Uc(19,"Casual"),f.bc(),f.cc(20,"option",35),f.Uc(21,"Privilege"),f.bc(),f.cc(22,"option",36),f.Uc(23,"Compensatory Off"),f.bc(),f.bc(),f.bc(),f.cc(24,"div",26),f.cc(25,"input",37),f.mc("ngModelChange",function(e){return f.Kc(t),f.oc().changed=e}),f.bc(),f.bc(),f.cc(26,"div",26),f.cc(27,"input",37),f.mc("ngModelChange",function(e){return f.Kc(t),f.oc().change=e}),f.bc(),f.bc(),f.cc(28,"div",26),f.cc(29,"button",38),f.Xb(30,"i",39),f.bc(),f.cc(31,"button",40),f.Xb(32,"i",41),f.bc(),f.bc(),f.bc(),f.bc()}if(2&e){var n=f.oc();f.Jb(3),f.vc("formControl",n.myStatus),f.Jb(10),f.vc("formControl",n.leaveType),f.Jb(12),f.vc("ngModel",n.changed)("formControl",n.myDate),f.Jb(2),f.vc("ngModel",n.change)("formControl",n.myEndDate)}}function h(e,c){if(1&e&&(f.cc(0,"div"),f.Uc(1),f.bc()),2&e){var t=f.oc().$implicit;f.Jb(1),f.Xc("",t.fName," ",t.lName,"")}}function m(e,c){if(1&e&&(f.cc(0,"div"),f.Sc(1,h,2,2,"div",44),f.bc()),2&e){var t=c.$implicit,n=f.oc().$implicit;f.Jb(1),f.vc("ngIf",n.EmployeeId==t._id)}}function y(e,c){if(1&e&&(f.cc(0,"div"),f.Uc(1),f.bc()),2&e){var t=f.oc().$implicit;f.Jb(1),f.Vc(t.designation)}}function C(e,c){if(1&e&&(f.cc(0,"div"),f.Sc(1,y,2,1,"div",44),f.bc()),2&e){var t=c.$implicit,n=f.oc().$implicit;f.Jb(1),f.vc("ngIf",n.EmployeeId==t._id)}}function O(e,c){if(1&e&&(f.cc(0,"div"),f.Uc(1),f.bc()),2&e){var t=f.oc().$implicit;f.Jb(1),f.Wc("",t.officeName," ")}}function P(e,c){if(1&e&&(f.cc(0,"div"),f.Sc(1,O,2,1,"div",44),f.bc()),2&e){var t=c.$implicit,n=f.oc().$implicit;f.Jb(1),f.vc("ngIf",n.OfficeId==t._id)}}function M(e,c){if(1&e&&(f.cc(0,"td"),f.cc(1,"span",45),f.Uc(2),f.bc(),f.bc()),2&e){var t=f.oc().$implicit;f.Jb(2),f.Vc(t.status)}}function x(e,c){if(1&e&&(f.cc(0,"td"),f.cc(1,"span",46),f.Uc(2),f.bc(),f.bc()),2&e){var t=f.oc().$implicit;f.Jb(2),f.Vc(t.status)}}function U(e,c){if(1&e&&(f.cc(0,"td"),f.cc(1,"span",47),f.Uc(2),f.bc(),f.bc()),2&e){var t=f.oc().$implicit;f.Jb(2),f.Vc(t.status)}}function _(e,c){if(1&e&&(f.cc(0,"tr"),f.cc(1,"td"),f.Uc(2),f.bc(),f.cc(3,"td"),f.Sc(4,m,2,1,"div",21),f.bc(),f.cc(5,"td"),f.Sc(6,C,2,1,"div",21),f.bc(),f.cc(7,"td"),f.Sc(8,P,2,1,"div",21),f.bc(),f.cc(9,"td"),f.Uc(10),f.bc(),f.cc(11,"td",42),f.Uc(12),f.bc(),f.cc(13,"td",43),f.Uc(14),f.bc(),f.cc(15,"td"),f.Uc(16),f.bc(),f.Sc(17,M,3,1,"td",44),f.Sc(18,x,3,1,"td",44),f.Sc(19,U,3,1,"td",44),f.bc()),2&e){var t=c.$implicit,n=c.index,o=f.oc();f.Jb(2),f.Vc(n+1),f.Jb(2),f.vc("ngForOf",o.employees),f.Jb(2),f.vc("ngForOf",o.employees),f.Jb(2),f.vc("ngForOf",o.reqOffices),f.Jb(2),f.Vc(t.leaveType),f.Jb(2),f.Vc(t.startDate),f.Jb(2),f.Vc(t.endDate),f.Jb(2),f.Vc(t.reason),f.Jb(1),f.vc("ngIf","Pending"==t.status),f.Jb(1),f.vc("ngIf","Approved"==t.status),f.Jb(1),f.vc("ngIf","Declined"==t.status)}}var w,L,S=function(e,c,t,n){return[e,c,t,n]},J=function(){return["status","leaveType","startDate","endDate"]},k=((w=function(){function c(t,n){e(this,c),this.leaveService=t,this.userService=n,this.leaves=[],this.users=[],this.offices=[],this.reqOffices=[],this.appointmentTime=new Date,this.show=!1,this.officeLeaves=[],this.countTheRecivedLeaves=0,this.officeNewLeaves=[],this.employeeId="62b08350191ff875b3a114ef",this.officeRole="62b08350191ff875b3a114f0",this.employees=[],this.showFilters=!1,this.leaveType=new b.d(""),this.myStatus=new b.d(""),this.myDate=new b.d(""),this.myEndDate=new b.d("")}return t(c,[{key:"ngOnInit",value:function(){this.fetchUsers(),this.fetchOffices(),this.fetchLeaves()}},{key:"fetchOffices",value:function(){var e=this;this.userService.getUsers({}).subscribe(function(c){e.offices=c;for(var t=0,n=0;t<e.offices.length;t++)e.offices[t].RoleId==e.officeRole&&(e.reqOffices[n]=e.offices[t],e.officeCount=e.reqOffices.length,n++)})}},{key:"fetchLeaves",value:function(){var e=this;this.leaveService.getLeaves({}).subscribe(function(c){e.leaves=c;for(var t=0,n=0;t<e.leaves.length;t++)e.officeLeaves[n]=e.leaves[t],e.countTheRecivedLeaves=e.officeLeaves.length,n++,e.config={itemsPerPage:6,currentPage:1,totalItems:e.countTheRecivedLeaves};e.officeNewLeaves=e.officeLeaves.reverse()})}},{key:"refresh",value:function(){window.location.reload()}},{key:"pageChanged",value:function(e){this.config.currentPage=e}},{key:"updateApproveStatus",value:function(e){var c=this;this.leaveService.updateLeaves(e,{status:"Approved"}).subscribe(function(e){c.refresh(),console.log("Leaves updated successfully")},function(e){})}},{key:"updateDeclineStatus",value:function(e){var c=this;this.leaveService.updateLeaves(e,{status:"Declined"}).subscribe(function(e){c.refresh(),console.log("Leaves updated successfully")},function(e){})}},{key:"fetchUsers",value:function(){var e=this;this.userService.getUsers({}).subscribe(function(c){e.users=c;for(var t=0,n=0;t<e.users.length;t++)e.users[t].RoleId==e.employeeId&&(e.employees[n]=e.users[t],n++);console.log(e.employees)})}}]),c}()).\u0275fac=function(e){return new(e||w)(f.Wb(d.a),f.Wb(u.a))},w.\u0275cmp=f.Qb({type:w,selectors:[["app-leave-histroy"]],decls:54,vars:15,consts:[[1,"row"],[1,"col-md-12"],[1,"card-title","color-blue"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"card-title",2,"margin-bottom","-1%","font-weight","bold"],["type","button",1,"btn","btn-light","btn-icon",2,"float","right",3,"click"],[1,"feather","icon-filter"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"color","#727cf5"],[1,"container-fluid"],["class","filters card","style","margin-bottom: 9px; margin-top: 30px;",4,"ngIf"],[1,"table-responsive","pt-3"],[1,"table","table-bordered",2,"background-color","azure"],[2,"background-color","rgb(194, 216, 250)"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"pagination","mt-4"],[3,"pageChange"],[1,"filters","card",2,"margin-bottom","9px","margin-top","30px"],[1,"form-inline",2,"padding","9px","background-color","white"],[1,"form-group","ml-2"],["id","mySta",1,"form-control",3,"formControl"],["value",""],["value","Pending"],["value","Approved"],["value","Declined"],["id","leaveT",1,"form-control",3,"formControl"],["value","Medical"],["value","Casual"],["value","Privilege"],["value","Compensatory Off"],["type","date",1,"form-control",3,"ngModel","formControl","ngModelChange"],["type","button",1,"btn","btn-primary"],[1,"feather","icon-search"],["type","button",1,"btn","btn-light","ml-1"],[1,"feather","icon-refresh-ccw"],["value","lev.startDate"],["value","lev.endDate"],[4,"ngIf"],[1,"badge","badge-info-muted"],[1,"badge","badge-success"],[1,"badge","badge-danger"]],template:function(e,c){1&e&&(f.cc(0,"div",0),f.cc(1,"div",1),f.cc(2,"h3",2),f.Uc(3,"Previous Leaves"),f.bc(),f.cc(4,"nav",3),f.cc(5,"ol",4),f.cc(6,"li",5),f.cc(7,"a",6),f.Uc(8,"Dashboard"),f.bc(),f.bc(),f.cc(9,"li",5),f.cc(10,"a",6),f.Uc(11,"History"),f.bc(),f.bc(),f.cc(12,"li",7),f.Uc(13,"Leave History"),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.cc(14,"h4",8),f.cc(15,"button",9),f.mc("click",function(){return c.showFilters=!c.showFilters}),f.Xb(16,"i",10),f.Uc(17,"\xa0 "),f.bc(),f.bc(),f.cc(18,"div",0),f.cc(19,"div",11),f.cc(20,"div",12),f.cc(21,"div",13),f.cc(22,"h6",14),f.Uc(23,"Leave List"),f.bc(),f.cc(24,"div",15),f.Sc(25,v,33,6,"div",16),f.bc(),f.cc(26,"div",17),f.cc(27,"table",18),f.cc(28,"thead",19),f.cc(29,"tr",20),f.cc(30,"th"),f.Uc(31,"#"),f.bc(),f.cc(32,"th"),f.Uc(33,"Employee Name"),f.bc(),f.cc(34,"th"),f.Uc(35,"Designation"),f.bc(),f.cc(36,"th"),f.Uc(37,"Office"),f.bc(),f.cc(38,"th"),f.Uc(39,"Leave Type"),f.bc(),f.cc(40,"th"),f.Uc(41,"start Date"),f.bc(),f.cc(42,"th"),f.Uc(43,"End Date"),f.bc(),f.cc(44,"th"),f.Uc(45,"Reason"),f.bc(),f.cc(46,"th"),f.Uc(47,"Status"),f.bc(),f.bc(),f.bc(),f.cc(48,"tbody",20),f.Sc(49,_,20,11,"tr",21),f.pc(50,"one"),f.pc(51,"paginate"),f.bc(),f.bc(),f.cc(52,"div",22),f.cc(53,"pagination-controls",23),f.mc("pageChange",function(e){return c.pageChanged(e)}),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc(),f.bc()),2&e&&(f.Jb(25),f.vc("ngIf",c.showFilters),f.Jb(24),f.vc("ngForOf",f.sc(50,2,f.rc(51,6,c.officeLeaves,c.config),f.Cc(9,S,c.myStatus.value,c.leaveType.value,c.myDate.value,c.myEndDate.value),f.yc(14,J))))},directives:[r.h,a.n,a.m,p.c,b.u,b.m,b.n,b.r,b.l,b.e,b.o,b.t,b.b],pipes:[g,p.b],styles:[".color-blue[_ngcontent-%COMP%]{color:#7d98e8}td[_ngcontent-%COMP%]{word-wrap:break-word}.website[_ngcontent-%COMP%]{letter-spacing:.5px;display:block;cursor:pointer;background-color:#313b3f;color:#fcdb42;padding:10px;text-decoration:none;text-align:right}#table-component[_ngcontent-%COMP%], .website[_ngcontent-%COMP%]{font:normal 14px sans-serif}#table-component[_ngcontent-%COMP%]{margin:15px auto 0;border:1px solid #000;border-radius:4px;height:400px;max-width:500px}#table-component[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{background-color:#313b3f;color:#fcdb42;padding:10px;margin:0}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-top:15px;width:100%;border-collapse:collapse}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:10px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:33.3%;font-size:13px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #000;text-align:left;padding-bottom:5px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .pl-15[_ngcontent-%COMP%]{padding-left:15px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #d3d3d3}#table-component[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{font-size:14px;text-align:center;margin:20px auto}#table-component[_ngcontent-%COMP%]     .pagination-next a, #table-component[_ngcontent-%COMP%]     .pagination-previous a{outline:none}#table-component[_ngcontent-%COMP%]     .ngx-pagination .current{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination{padding:0!important}#table-component[_ngcontent-%COMP%]     .ngx-pagination a:hover, #table-component[_ngcontent-%COMP%]     .ngx-pagination button:hover{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination a, #table-component[_ngcontent-%COMP%]     .ngx-pagination button{border-radius:4px;outline:none}@media screen and (max-width:520px){#table-component[_ngcontent-%COMP%]{margin:15px}}"]}),w),D=o("cZdB"),I=[{path:"",component:k}],T=((L=t(function c(){e(this,c)})).\u0275mod=f.Ub({type:L}),L.\u0275inj=f.Tb({factory:function(e){return new(e||L)},providers:[a.e],imports:[[a.c,r.i.forChild(I),b.i,b.q,s.a,p.a,D.a,l.a.forRoot({apiKey:"AIzaSyAP8n5GbRjUqB9dQfxDfZLJuFam4PjHOTs"})]]}),L)},hccJ:function(c,n,o){"use strict";o.d(n,"a",function(){return s});var i=o("f8oD"),a=o("gQwx"),r=o("fXoL"),s=function(){var c=function(){function c(t){e(this,c),this.http=t,this.leaveUrl=a.a.mainApiUrl()+"/leave"}return t(c,[{key:"getLeaves",value:function(e){return this.http.get(this.leaveUrl+i.a.objToQuery(e))}},{key:"createLeaves",value:function(e){return console.log("Create!"),console.log(e),console.log(this.leaveUrl),this.http.post(this.leaveUrl,e)}},{key:"updateLeaves",value:function(e,c){return this.http.patch(this.leaveUrl+"/"+e,c)}},{key:"deleteLeaves",value:function(e){return this.http.delete(this.leaveUrl+"/"+e)}}]),c}();return c.\u0275fac=function(e){return new(e||c)(r.jc(i.a))},c.\u0275prov=r.Sb({token:c,factory:c.\u0275fac,providedIn:"root"}),c}()}}])}();