(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"AVv/":function(t,e,n){"use strict";n.r(e),n.d(e,"AttendenceAllModule",function(){return U});var c=n("SVse"),o=n("iInd"),i=n("w9WL"),a=n("LSHg"),r=n("s7LF"),s=n("RMBY"),d=n("8Y7J"),b=n("XBNL"),l=n("f4AX"),p=n("xkgV");let g=(()=>{class t{transform(t,e,n){return e.forEach((e,c)=>{e&&(t=t.filter(t=>-1!==t[n[c]].toString().toLowerCase().indexOf(e.toString().toLowerCase())))}),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=d.Vb({name:"four",type:t,pure:!0}),t})();function f(t,e){if(1&t&&(d.cc(0,"div",17),d.cc(1,"form",18),d.Xb(2,"div",19),d.cc(3,"div",19),d.cc(4,"select",20),d.cc(5,"option",21),d.Uc(6,"Select Status"),d.bc(),d.cc(7,"option",22),d.Uc(8,"Present"),d.bc(),d.cc(9,"option",23),d.Uc(10,"Absent"),d.bc(),d.bc(),d.bc(),d.cc(11,"div",19),d.Xb(12,"input",24),d.bc(),d.cc(13,"div",19),d.cc(14,"button",25),d.Xb(15,"i",26),d.bc(),d.cc(16,"button",27),d.Xb(17,"i",28),d.bc(),d.bc(),d.bc(),d.bc()),2&t){const t=d.oc();d.Jb(4),d.vc("formControl",t.myStatus),d.Jb(8),d.vc("formControl",t.myDate)}}function h(t,e){if(1&t&&(d.cc(0,"div"),d.Uc(1),d.bc()),2&t){const t=d.oc().$implicit;d.Jb(1),d.Xc("",t.fName," ",t.lName," ")}}function u(t,e){if(1&t&&(d.cc(0,"div"),d.Sc(1,h,2,2,"div",30),d.bc()),2&t){const t=e.$implicit,n=d.oc().$implicit;d.Jb(1),d.vc("ngIf",n.EmployeeId==t._id)}}function m(t,e){if(1&t&&(d.cc(0,"div"),d.Uc(1),d.bc()),2&t){const t=d.oc().$implicit;d.Jb(1),d.Wc("",t.designation," ")}}function v(t,e){if(1&t&&(d.cc(0,"div"),d.Sc(1,m,2,1,"div",30),d.bc()),2&t){const t=e.$implicit,n=d.oc().$implicit;d.Jb(1),d.vc("ngIf",n.EmployeeId==t._id)}}function C(t,e){if(1&t&&(d.cc(0,"td"),d.cc(1,"span",31),d.Uc(2),d.bc(),d.bc()),2&t){const t=d.oc().$implicit;d.Jb(2),d.Vc(t.isVerified)}}function O(t,e){if(1&t&&(d.cc(0,"td"),d.cc(1,"span",32),d.Uc(2),d.bc(),d.bc()),2&t){const t=d.oc().$implicit;d.Jb(2),d.Vc(t.isVerified)}}function P(t,e){if(1&t&&(d.cc(0,"tr"),d.cc(1,"td"),d.Uc(2),d.bc(),d.cc(3,"td"),d.Sc(4,u,2,1,"div",14),d.bc(),d.cc(5,"td"),d.Sc(6,v,2,1,"div",14),d.bc(),d.cc(7,"td",29),d.Uc(8),d.bc(),d.cc(9,"td"),d.Uc(10),d.bc(),d.cc(11,"td"),d.Uc(12),d.bc(),d.cc(13,"td"),d.Uc(14),d.bc(),d.cc(15,"td"),d.Uc(16,"2"),d.bc(),d.Sc(17,C,3,1,"td",30),d.Sc(18,O,3,1,"td",30),d.bc()),2&t){const t=e.$implicit,n=e.index,c=d.oc();d.Jb(2),d.Vc(n+1),d.Jb(2),d.vc("ngForOf",c.employees),d.Jb(2),d.vc("ngForOf",c.employees),d.Jb(2),d.Vc(t.date),d.Jb(2),d.Vc(t.inTime),d.Jb(2),d.Vc(t.inTime),d.Jb(2),d.Vc(t.status),d.Jb(3),d.vc("ngIf",1==t.isVerified),d.Jb(1),d.vc("ngIf",0==t.isVerified)}}const x=function(t,e,n){return[t,e,n]},M=function(){return["isVerified","status","date"]};let y=(()=>{class t{constructor(t,e,n){this.attendanceService=t,this.datepipe=e,this.userService=n,this.dateToday=Date.now(),this.attendance=[],this.users=[],this.officeLeaves=[],this.countTheRecivedLeaves=0,this.officeNewLeaves=[],this.verification=new r.d(""),this.myStatus=new r.d(""),this.myDate=new r.d(""),this.showFilters=!1,this.employeeId="62b08350191ff875b3a114ef",this.employees=[],this.userId=s.a.getLoggedUser().id}ngOnInit(){this.fetchCurentDate(),this.fetchAttendances(),this.fetchUsers()}refresh(){window.location.reload()}fetchCurentDate(){this.currentDateTime=this.datepipe.transform(new Date,"dd/MM/yyyy"),console.log("hey this is current Date Time"),console.log(this.currentDateTime)}updateApproveStatus(t){this.attendanceService.updateAttendance(t,{isVerified:!0}).subscribe(t=>{this.refresh(),console.log("Attendance updated successfully")},t=>{})}fetchAttendances(){this.attendanceService.getAttendance({}).subscribe(t=>{this.attendance=t,this.fetchCurentDate();for(let e=0,n=0;e<this.attendance.length;e++)this.attendance[e].OfficeId==this.userId&&(this.officeLeaves[n]=this.attendance[e],this.countTheRecivedLeaves=this.officeLeaves.length,n++),this.config={itemsPerPage:80,currentPage:1,totalItems:this.countTheRecivedLeaves};this.officeNewLeaves=this.officeLeaves.reverse()})}pageChanged(t){this.config.currentPage=t}fetchUsers(){this.userService.getUsers({}).subscribe(t=>{this.users=t;for(let e=0,n=0;e<this.users.length;e++)this.users[e].RoleId==this.employeeId&&(this.employees[n]=this.users[e],n++);console.log(this.employees)})}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(b.a),d.Wb(c.e),d.Wb(l.a))},t.\u0275cmp=d.Qb({type:t,selectors:[["app-attendence-all"]],decls:38,vars:14,consts:[[1,"card-title",2,"margin-bottom","-1%","font-weight","bold"],["type","button",1,"btn","btn-light","btn-icon",2,"float","right",3,"click"],[1,"feather","icon-filter"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"color","#727cf5"],[1,"table-responsive","pt-3"],[1,"container-fluid"],["class","filters card","style","margin-bottom: 9px; margin-top: 30px;",4,"ngIf"],[1,"table","table-bordered",2,"background-color","azure"],[2,"background-color","rgb(194, 216, 250)"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"pagination","mt-4"],[3,"pageChange"],[1,"filters","card",2,"margin-bottom","9px","margin-top","30px"],[1,"form-inline",2,"padding","9px","background-color","white"],[1,"form-group","ml-2"],["id","mySta",1,"form-control",3,"formControl"],["value",""],["value","Present"],["value","Absent"],["type","date","min","0","id","myD","placeholder","Date",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-primary"],[1,"feather","icon-search"],["type","button",1,"btn","btn-light","ml-1"],[1,"feather","icon-refresh-ccw"],["value","att.date"],[4,"ngIf"],[1,"badge","badge-success"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(d.cc(0,"h4",0),d.cc(1,"button",1),d.mc("click",function(){return e.showFilters=!e.showFilters}),d.Xb(2,"i",2),d.Uc(3,"\xa0 "),d.bc(),d.bc(),d.cc(4,"div",3),d.cc(5,"div",4),d.cc(6,"div",5),d.cc(7,"div",6),d.cc(8,"h6",7),d.Uc(9,"Attendance List"),d.bc(),d.cc(10,"div",8),d.cc(11,"div",9),d.Sc(12,f,18,2,"div",10),d.bc(),d.cc(13,"table",11),d.cc(14,"thead",12),d.cc(15,"tr",13),d.cc(16,"th"),d.Uc(17,"#"),d.bc(),d.cc(18,"th"),d.Uc(19,"Employee Name"),d.bc(),d.cc(20,"th"),d.Uc(21,"Designation"),d.bc(),d.cc(22,"th"),d.Uc(23,"Date"),d.bc(),d.cc(24,"th"),d.Uc(25,"In Time"),d.bc(),d.cc(26,"th"),d.Uc(27,"Out Time"),d.bc(),d.cc(28,"th"),d.Uc(29,"Status"),d.bc(),d.cc(30,"th"),d.Uc(31,"Verification"),d.bc(),d.bc(),d.bc(),d.cc(32,"tbody",13),d.Sc(33,P,19,9,"tr",14),d.pc(34,"four"),d.pc(35,"paginate"),d.bc(),d.bc(),d.cc(36,"div",15),d.cc(37,"pagination-controls",16),d.mc("pageChange",function(t){return e.pageChanged(t)}),d.bc(),d.bc(),d.bc(),d.bc(),d.bc(),d.bc(),d.bc()),2&t&&(d.Jb(12),d.vc("ngIf",e.showFilters),d.Jb(21),d.vc("ngForOf",d.sc(34,2,d.rc(35,6,e.officeNewLeaves,e.config),d.Bc(9,x,e.verification.value,e.myStatus.value,e.myDate.value),d.yc(13,M))))},directives:[c.n,c.m,p.c,r.u,r.m,r.n,r.r,r.l,r.e,r.o,r.t,r.b],pipes:[g,p.b],styles:[".color-blue[_ngcontent-%COMP%]{color:#7d98e8}td[_ngcontent-%COMP%]{word-wrap:break-word}.website[_ngcontent-%COMP%]{letter-spacing:.5px;display:block;cursor:pointer;background-color:#313b3f;color:#fcdb42;padding:10px;text-decoration:none;text-align:right}#table-component[_ngcontent-%COMP%], .website[_ngcontent-%COMP%]{font:normal 14px sans-serif}#table-component[_ngcontent-%COMP%]{margin:15px auto 0;border:1px solid #000;border-radius:4px;height:400px;max-width:500px}#table-component[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{background-color:#313b3f;color:#fcdb42;padding:10px;margin:0}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-top:15px;width:100%;border-collapse:collapse}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:10px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:33.3%;font-size:13px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #000;text-align:left;padding-bottom:5px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .pl-15[_ngcontent-%COMP%]{padding-left:15px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #d3d3d3}#table-component[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{font-size:14px;text-align:center;margin:20px auto}#table-component[_ngcontent-%COMP%]     .pagination-next a, #table-component[_ngcontent-%COMP%]     .pagination-previous a{outline:none}#table-component[_ngcontent-%COMP%]     .ngx-pagination .current{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination{padding:0!important}#table-component[_ngcontent-%COMP%]     .ngx-pagination a:hover, #table-component[_ngcontent-%COMP%]     .ngx-pagination button:hover{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination a, #table-component[_ngcontent-%COMP%]     .ngx-pagination button{border-radius:4px;outline:none}@media screen and (max-width:520px){#table-component[_ngcontent-%COMP%]{margin:15px}}"]}),t})();var _=n("KeVr");const w=[{path:"",component:y}];let U=(()=>{class t{}return t.\u0275mod=d.Ub({type:t}),t.\u0275inj=d.Tb({factory:function(e){return new(e||t)},providers:[c.e],imports:[[c.c,o.i.forChild(w),i.a,r.i,r.q,p.a,_.a,a.a.forRoot({apiKey:"AIzaSyAP8n5GbRjUqB9dQfxDfZLJuFam4PjHOTs"})]]}),t})()},XBNL:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var c=n("f8oD"),o=n("gQwx"),i=n("8Y7J");let a=(()=>{class t{constructor(t){this.http=t,this.attendanceUrl=o.a.mainApiUrl()+"/attendance"}getAttendance(t){return this.http.get(this.attendanceUrl+c.a.objToQuery(t))}createAttendance(t){return console.log("Create!"),console.log(t),console.log(this.attendanceUrl),this.http.post(this.attendanceUrl,t)}updateAttendance(t,e){return this.http.patch(this.attendanceUrl+"/"+t,e)}deleteAttendance(t){return this.http.delete(this.attendanceUrl+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(c.a))},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);