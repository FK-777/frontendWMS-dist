(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{hccJ:function(t,e,c){"use strict";c.d(e,"a",function(){return r});var n=c("f8oD"),o=c("gQwx"),i=c("fXoL");let r=(()=>{class t{constructor(t){this.http=t,this.leaveUrl=o.a.mainApiUrl()+"/leave"}getLeaves(t){return this.http.get(this.leaveUrl+n.a.objToQuery(t))}createLeaves(t){return console.log("Create!"),console.log(t),console.log(this.leaveUrl),this.http.post(this.leaveUrl,t)}updateLeaves(t,e){return this.http.patch(this.leaveUrl+"/"+t,e)}deleteLeaves(t){return this.http.delete(this.leaveUrl+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(i.jc(n.a))},t.\u0275prov=i.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},uViH:function(t,e,c){"use strict";c.r(e),c.d(e,"AllEmployeeModule",function(){return M});var n=c("ofXK"),o=c("tyNb"),i=c("lDzL"),r=c("pxUr"),a=c("3Pt+"),s=c("RMBY"),l=c("fXoL"),b=c("hccJ"),p=c("f4AX"),d=c("oOf3");let g=(()=>{class t{transform(t,e,c){return e.forEach((e,n)=>{e&&(t=t.filter(t=>-1!==t[c[n]].toString().toLowerCase().indexOf(e.toString().toLowerCase())))}),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=l.Vb({name:"two",type:t,pure:!0}),t})();function f(t,e){if(1&t&&(l.cc(0,"div",23),l.cc(1,"form",24),l.cc(2,"div",25),l.Xb(3,"input",26),l.bc(),l.cc(4,"div",25),l.cc(5,"button",27),l.Xb(6,"i",28),l.bc(),l.cc(7,"button",29),l.Xb(8,"i",30),l.bc(),l.bc(),l.bc(),l.bc()),2&t){const t=l.oc();l.Jb(3),l.vc("formControl",t.myDate)}}function h(t,e){if(1&t&&(l.cc(0,"div"),l.Uc(1),l.bc()),2&t){const t=l.oc().$implicit;l.Jb(1),l.Wc("",t.officeName," ")}}function u(t,e){if(1&t&&(l.cc(0,"div"),l.Sc(1,h,2,1,"div",33),l.bc()),2&t){const t=e.$implicit,c=l.oc().$implicit;l.Jb(1),l.vc("ngIf",c.OfficeId==t._id)}}const m=function(t){return["/employee-detail",t]};function v(t,e){if(1&t&&(l.cc(0,"tr"),l.cc(1,"td"),l.Uc(2),l.bc(),l.cc(3,"td"),l.Uc(4),l.bc(),l.cc(5,"td"),l.Uc(6),l.bc(),l.cc(7,"td"),l.Sc(8,u,2,1,"div",20),l.bc(),l.cc(9,"td"),l.Uc(10),l.bc(),l.cc(11,"td"),l.Uc(12),l.bc(),l.cc(13,"td"),l.cc(14,"button",31),l.Xb(15,"i",32),l.bc(),l.bc(),l.bc()),2&t){const t=e.$implicit,c=e.index,n=l.oc();l.Jb(2),l.Vc(c+1),l.Jb(2),l.Xc("",t.fName," ",t.lName,""),l.Jb(2),l.Vc(t.designation),l.Jb(2),l.vc("ngForOf",n.reqOffices),l.Jb(2),l.Vc(t.email),l.Jb(2),l.Vc(t.pNumber),l.Jb(2),l.vc("routerLink",l.zc(8,m,t._id))}}const O=function(t){return[t]},C=function(){return["fName"]};let P=(()=>{class t{constructor(t,e){this.leaveService=t,this.userService=e,this.leaves=[],this.users=[],this.offices=[],this.reqOffices=[],this.totaNumberOfUsers=0,this.appointmentTime=new Date,this.show=!1,this.officeLeaves=[],this.countTheRecivedLeaves=0,this.officeNewLeaves=[],this.employeeId="62b08350191ff875b3a114ef",this.officeRole="62b08350191ff875b3a114f0",this.employees=[],this.showFilters=!1,this.leaveType=new a.d(""),this.myStatus=new a.d(""),this.myDate=new a.d(""),this.myEndDate=new a.d(""),this.userId=s.a.getLoggedUser().id}ngOnInit(){this.fetchUsers(),this.fetchOffices()}fetchOffices(){this.userService.getUsers({}).subscribe(t=>{this.offices=t;for(let e=0,c=0;e<this.offices.length;e++)this.offices[e].RoleId==this.officeRole&&(this.reqOffices[c]=this.offices[e],this.officeCount=this.reqOffices.length,c++)})}refresh(){window.location.reload()}pageChanged(t){this.config.currentPage=t}updateApproveStatus(t){this.leaveService.updateLeaves(t,{status:"Approved"}).subscribe(t=>{this.refresh(),console.log("Leaves updated successfully")},t=>{})}updateDeclineStatus(t){this.leaveService.updateLeaves(t,{status:"Declined"}).subscribe(t=>{this.refresh(),console.log("Leaves updated successfully")},t=>{})}fetchUsers(){this.userService.getUsers({}).subscribe(t=>{this.users=t;for(let e=0,c=0;e<this.users.length;e++)this.users[e].RoleId==this.employeeId&&(this.employees[c]=this.users[e],this.totaNumberOfUsers=this.employees.length,c++),this.config={itemsPerPage:15,currentPage:1,totalItems:this.totaNumberOfUsers};console.log(this.employees)})}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(b.a),l.Wb(p.a))},t.\u0275cmp=l.Qb({type:t,selectors:[["app-all-employee"]],decls:50,vars:12,consts:[[1,"row"],[1,"col-md-12"],[1,"card-title","color-blue"],[1,"page-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","."],["aria-current","page",1,"breadcrumb-item","active"],[1,"card-title",2,"margin-bottom","-1%","font-weight","bold"],["type","button",1,"btn","btn-light","btn-icon",2,"float","right",3,"click"],[1,"feather","icon-filter"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"color","#727cf5"],[1,"container-fluid"],["class","filters card","style","margin-bottom: 9px; margin-top: 30px;",4,"ngIf"],[1,"table-responsive","pt-3"],[1,"table","table-bordered",2,"background-color","azure"],[2,"background-color","rgb(194, 216, 250)"],[4,"ngFor","ngForOf"],[1,"pagination","mt-4"],[3,"pageChange"],[1,"filters","card",2,"margin-bottom","9px","margin-top","30px"],[1,"form-inline",2,"padding","9px","background-color","white"],[1,"form-group","ml-2"],["type","text","id","myDate","placeholder","Enter Name",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-primary"],[1,"feather","icon-search"],["type","button",1,"btn","btn-light","ml-1"],[1,"feather","icon-refresh-ccw"],[1,"btn","btn-light","btn-icon",2,"background-color","rgb(120, 185, 23)",3,"routerLink"],[1,"feather","icon-eye",2,"color","whitesmoke"],[4,"ngIf"]],template:function(t,e){1&t&&(l.cc(0,"div",0),l.cc(1,"div",1),l.cc(2,"h3",2),l.Uc(3,"All Employees"),l.bc(),l.cc(4,"nav",3),l.cc(5,"ol",4),l.cc(6,"li",5),l.cc(7,"a",6),l.Uc(8,"Dashboard"),l.bc(),l.bc(),l.cc(9,"li",5),l.cc(10,"a",6),l.Uc(11,"Employees"),l.bc(),l.bc(),l.cc(12,"li",7),l.Uc(13,"All Employee"),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.cc(14,"h4",8),l.cc(15,"button",9),l.mc("click",function(){return e.showFilters=!e.showFilters}),l.Xb(16,"i",10),l.Uc(17,"\xa0 "),l.bc(),l.bc(),l.cc(18,"div",0),l.cc(19,"div",11),l.cc(20,"div",12),l.cc(21,"div",13),l.cc(22,"h6",14),l.Uc(23,"Employee List"),l.bc(),l.cc(24,"div",15),l.Sc(25,f,9,1,"div",16),l.bc(),l.cc(26,"div",17),l.cc(27,"table",18),l.cc(28,"thead",19),l.cc(29,"tr"),l.cc(30,"th"),l.Uc(31,"Serial"),l.bc(),l.cc(32,"th"),l.Uc(33,"Name"),l.bc(),l.cc(34,"th"),l.Uc(35,"Designation"),l.bc(),l.cc(36,"th"),l.Uc(37,"Office"),l.bc(),l.cc(38,"th"),l.Uc(39,"Email"),l.bc(),l.cc(40,"th"),l.Uc(41,"Phone"),l.bc(),l.cc(42,"th"),l.Uc(43,"view More"),l.bc(),l.bc(),l.bc(),l.cc(44,"tbody"),l.Sc(45,v,16,10,"tr",20),l.pc(46,"two"),l.pc(47,"paginate"),l.bc(),l.bc(),l.cc(48,"div",21),l.cc(49,"pagination-controls",22),l.mc("pageChange",function(t){return e.pageChanged(t)}),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.bc(),l.bc()),2&t&&(l.Jb(25),l.vc("ngIf",e.showFilters),l.Jb(20),l.vc("ngForOf",l.sc(46,2,l.rc(47,6,e.employees,e.config),l.zc(9,O,e.myDate.value),l.yc(11,C))))},directives:[o.h,n.n,n.m,d.c,a.u,a.m,a.n,a.b,a.l,a.e,o.f],pipes:[g,d.b],styles:[".color-blue[_ngcontent-%COMP%]{color:#7d98e8}td[_ngcontent-%COMP%]{word-wrap:break-word}.website[_ngcontent-%COMP%]{letter-spacing:.5px;display:block;cursor:pointer;background-color:#313b3f;color:#fcdb42;padding:10px;text-decoration:none;text-align:right}#table-component[_ngcontent-%COMP%], .website[_ngcontent-%COMP%]{font:normal 14px sans-serif}#table-component[_ngcontent-%COMP%]{margin:15px auto 0;border:1px solid #000;border-radius:4px;height:400px;max-width:500px}#table-component[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{background-color:#313b3f;color:#fcdb42;padding:10px;margin:0}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-top:15px;width:100%;border-collapse:collapse}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:10px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:33.3%;font-size:13px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #000;text-align:left;padding-bottom:5px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .pl-15[_ngcontent-%COMP%]{padding-left:15px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #d3d3d3}#table-component[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{font-size:14px;text-align:center;margin:20px auto}#table-component[_ngcontent-%COMP%]     .pagination-next a, #table-component[_ngcontent-%COMP%]     .pagination-previous a{outline:none}#table-component[_ngcontent-%COMP%]     .ngx-pagination .current{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination{padding:0!important}#table-component[_ngcontent-%COMP%]     .ngx-pagination a:hover, #table-component[_ngcontent-%COMP%]     .ngx-pagination button:hover{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination a, #table-component[_ngcontent-%COMP%]     .ngx-pagination button{border-radius:4px;outline:none}@media screen and (max-width:520px){#table-component[_ngcontent-%COMP%]{margin:15px}}"]}),t})();var x=c("cZdB");const y=[{path:"",component:P}];let M=(()=>{class t{}return t.\u0275mod=l.Ub({type:t}),t.\u0275inj=l.Tb({factory:function(e){return new(e||t)},providers:[n.e],imports:[[n.c,o.i.forChild(y),a.i,a.q,i.a,d.a,x.a,r.a.forRoot({apiKey:"AIzaSyAP8n5GbRjUqB9dQfxDfZLJuFam4PjHOTs"})]]}),t})()}}]);