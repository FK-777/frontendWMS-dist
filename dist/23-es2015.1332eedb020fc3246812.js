(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+6Cr":function(t,e,c){"use strict";c.r(e),c.d(e,"LeaveHistroyModule",function(){return _});var n=c("ofXK"),o=c("tyNb"),a=c("lDzL"),i=c("pxUr"),r=c("3Pt+"),s=c("fXoL"),l=c("hccJ"),b=c("f4AX"),p=c("oOf3");let d=(()=>{class t{transform(t,e,c){return e.forEach((e,n)=>{e&&(t=t.filter(t=>-1!==t[c[n]].toString().toLowerCase().indexOf(e.toString().toLowerCase())))}),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Vb({name:"one",type:t,pure:!0}),t})();function g(t,e){if(1&t&&(s.cc(0,"div",17),s.cc(1,"form",18),s.cc(2,"div",19),s.cc(3,"select",20),s.cc(4,"option",21),s.Uc(5,"Select Status"),s.bc(),s.cc(6,"option",22),s.Uc(7,"Pending"),s.bc(),s.cc(8,"option",23),s.Uc(9,"Approved"),s.bc(),s.cc(10,"option",24),s.Uc(11,"Declined"),s.bc(),s.bc(),s.bc(),s.cc(12,"div",19),s.cc(13,"select",25),s.cc(14,"option",21),s.Uc(15,"Select Type"),s.bc(),s.cc(16,"option",26),s.Uc(17,"Medical"),s.bc(),s.cc(18,"option",27),s.Uc(19,"Casual"),s.bc(),s.cc(20,"option",28),s.Uc(21,"Privilege"),s.bc(),s.bc(),s.bc(),s.cc(22,"div",19),s.Xb(23,"input",29),s.bc(),s.cc(24,"div",19),s.Xb(25,"input",30),s.bc(),s.cc(26,"div",19),s.cc(27,"button",31),s.Xb(28,"i",32),s.bc(),s.cc(29,"button",33),s.Xb(30,"i",34),s.bc(),s.bc(),s.bc(),s.bc()),2&t){const t=s.oc();s.Jb(3),s.vc("formControl",t.myStatus),s.Jb(10),s.vc("formControl",t.leaveType),s.Jb(10),s.vc("formControl",t.myDate),s.Jb(2),s.vc("formControl",t.myEndDate)}}function u(t,e){if(1&t&&(s.cc(0,"div"),s.Uc(1),s.bc()),2&t){const t=s.oc().$implicit;s.Jb(1),s.Xc("",t.fName," ",t.lName,"")}}function f(t,e){if(1&t&&(s.cc(0,"div"),s.Sc(1,u,2,2,"div",37),s.bc()),2&t){const t=e.$implicit,c=s.oc().$implicit;s.Jb(1),s.vc("ngIf",c.EmployeeId==t._id)}}function h(t,e){if(1&t&&(s.cc(0,"td"),s.cc(1,"span",38),s.Uc(2),s.bc(),s.bc()),2&t){const t=s.oc().$implicit;s.Jb(2),s.Vc(t.status)}}function v(t,e){if(1&t&&(s.cc(0,"td"),s.cc(1,"span",39),s.Uc(2),s.bc(),s.bc()),2&t){const t=s.oc().$implicit;s.Jb(2),s.Vc(t.status)}}function m(t,e){if(1&t&&(s.cc(0,"td"),s.cc(1,"span",40),s.Uc(2),s.bc(),s.bc()),2&t){const t=s.oc().$implicit;s.Jb(2),s.Vc(t.status)}}function C(t,e){if(1&t&&(s.cc(0,"tr"),s.cc(1,"td"),s.Uc(2),s.bc(),s.cc(3,"td"),s.Sc(4,f,2,1,"div",14),s.bc(),s.cc(5,"td"),s.Uc(6),s.bc(),s.cc(7,"td",35),s.Uc(8),s.bc(),s.cc(9,"td",36),s.Uc(10),s.bc(),s.cc(11,"td"),s.Uc(12),s.bc(),s.Sc(13,h,3,1,"td",37),s.Sc(14,v,3,1,"td",37),s.Sc(15,m,3,1,"td",37),s.bc()),2&t){const t=e.$implicit,c=e.index,n=s.oc();s.Jb(2),s.Vc(c+1),s.Jb(2),s.vc("ngForOf",n.employees),s.Jb(2),s.Vc(t.leaveType),s.Jb(2),s.Vc(t.startDate),s.Jb(2),s.Vc(t.endDate),s.Jb(2),s.Vc(t.reason),s.Jb(1),s.vc("ngIf","Pending"==t.status),s.Jb(1),s.vc("ngIf","Approved"==t.status),s.Jb(1),s.vc("ngIf","Declined"==t.status)}}const P=function(t,e,c,n){return[t,e,c,n]},y=function(){return["status","leaveType","startDate","endDate"]};let x=(()=>{class t{constructor(t,e){this.leaveService=t,this.userService=e,this.leaves=[],this.users=[],this.appointmentTime=new Date,this.show=!1,this.officeLeaves=[],this.countTheRecivedLeaves=0,this.officeNewLeaves=[],this.employeeId="62b08350191ff875b3a114ef",this.employees=[],this.showFilters=!1,this.leaveType=new r.d(""),this.myStatus=new r.d(""),this.myDate=new r.d(""),this.myEndDate=new r.d("")}ngOnInit(){this.fetchUsers(),this.fetchLeaves()}fetchLeaves(){this.leaveService.getLeaves({}).subscribe(t=>{this.leaves=t;for(let e=0,c=0;e<this.leaves.length;e++)this.officeLeaves[c]=this.leaves[e],this.countTheRecivedLeaves=this.officeLeaves.length,c++,this.config={itemsPerPage:6,currentPage:1,totalItems:this.countTheRecivedLeaves};this.officeNewLeaves=this.officeLeaves.reverse()})}refresh(){window.location.reload()}pageChanged(t){this.config.currentPage=t}updateApproveStatus(t){this.leaveService.updateLeaves(t,{status:"Approved"}).subscribe(t=>{this.refresh(),console.log("Leaves updated successfully")},t=>{})}updateDeclineStatus(t){this.leaveService.updateLeaves(t,{status:"Declined"}).subscribe(t=>{this.refresh(),console.log("Leaves updated successfully")},t=>{})}fetchUsers(){this.userService.getUsers({}).subscribe(t=>{this.users=t;for(let e=0,c=0;e<this.users.length;e++)this.users[e].RoleId==this.employeeId&&(this.employees[c]=this.users[e],c++);console.log(this.employees)})}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(l.a),s.Wb(b.a))},t.\u0275cmp=s.Qb({type:t,selectors:[["app-leave-histroy"]],decls:36,vars:15,consts:[[1,"card-title",2,"margin-bottom","-1%","font-weight","bold"],["type","button",1,"btn","btn-light","btn-icon",2,"float","right",3,"click"],[1,"feather","icon-filter"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"color","#727cf5"],[1,"container-fluid"],["class","filters card","style","margin-bottom: 9px; margin-top: 30px;",4,"ngIf"],[1,"table-responsive","pt-3"],[1,"table","table-bordered",2,"background-color","azure"],[2,"background-color","rgb(194, 216, 250)"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"pagination","mt-4"],[3,"pageChange"],[1,"filters","card",2,"margin-bottom","9px","margin-top","30px"],[1,"form-inline",2,"padding","9px","background-color","white"],[1,"form-group","ml-2"],["id","mySta",1,"form-control",3,"formControl"],["value",""],["value","Pending"],["value","Approved"],["value","Declined"],["id","leaveT",1,"form-control",3,"formControl"],["value","Medical"],["value","Casual"],["value","Privilege"],["type","date","min","0","id","start-date","placeholder","start Date",1,"form-control",3,"formControl"],["type","date","min","0","id","user_max_price","placeholder","End Date",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-primary"],[1,"feather","icon-search"],["type","button",1,"btn","btn-light","ml-1"],[1,"feather","icon-refresh-ccw"],["value","lev.startDate"],["value","lev.endDate"],[4,"ngIf"],[1,"badge","badge-info-muted"],[1,"badge","badge-success"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(s.cc(0,"h4",0),s.cc(1,"button",1),s.mc("click",function(){return e.showFilters=!e.showFilters}),s.Xb(2,"i",2),s.Uc(3,"\xa0 "),s.bc(),s.bc(),s.cc(4,"div",3),s.cc(5,"div",4),s.cc(6,"div",5),s.cc(7,"div",6),s.cc(8,"h6",7),s.Uc(9,"Leave List"),s.bc(),s.cc(10,"div",8),s.Sc(11,g,31,4,"div",9),s.bc(),s.cc(12,"div",10),s.cc(13,"table",11),s.cc(14,"thead",12),s.cc(15,"tr",13),s.cc(16,"th"),s.Uc(17,"#"),s.bc(),s.cc(18,"th"),s.Uc(19,"Employee Name"),s.bc(),s.cc(20,"th"),s.Uc(21,"Leave Type"),s.bc(),s.cc(22,"th"),s.Uc(23,"start Date"),s.bc(),s.cc(24,"th"),s.Uc(25,"End Date"),s.bc(),s.cc(26,"th"),s.Uc(27,"Reason"),s.bc(),s.cc(28,"th"),s.Uc(29,"Status"),s.bc(),s.bc(),s.bc(),s.cc(30,"tbody",13),s.Sc(31,C,16,9,"tr",14),s.pc(32,"one"),s.pc(33,"paginate"),s.bc(),s.bc(),s.cc(34,"div",15),s.cc(35,"pagination-controls",16),s.mc("pageChange",function(t){return e.pageChanged(t)}),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc(),s.bc()),2&t&&(s.Jb(11),s.vc("ngIf",e.showFilters),s.Jb(20),s.vc("ngForOf",s.sc(32,2,s.rc(33,6,e.officeLeaves,e.config),s.Cc(9,P,e.myStatus.value,e.leaveType.value,e.myDate.value,e.myEndDate.value),s.yc(14,y))))},directives:[n.n,n.m,p.c,r.u,r.m,r.n,r.r,r.l,r.e,r.o,r.t,r.b],pipes:[d,p.b],styles:[".color-blue[_ngcontent-%COMP%]{color:#7d98e8}td[_ngcontent-%COMP%]{word-wrap:break-word}.website[_ngcontent-%COMP%]{letter-spacing:.5px;display:block;cursor:pointer;background-color:#313b3f;color:#fcdb42;padding:10px;text-decoration:none;text-align:right}#table-component[_ngcontent-%COMP%], .website[_ngcontent-%COMP%]{font:normal 14px sans-serif}#table-component[_ngcontent-%COMP%]{margin:15px auto 0;border:1px solid #000;border-radius:4px;height:400px;max-width:500px}#table-component[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{background-color:#313b3f;color:#fcdb42;padding:10px;margin:0}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-top:15px;width:100%;border-collapse:collapse}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:10px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:33.3%;font-size:13px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-size:14px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:1px solid #000;text-align:left;padding-bottom:5px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .pl-15[_ngcontent-%COMP%]{padding-left:15px}#table-component[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:5px 0;border-bottom:1px solid #d3d3d3}#table-component[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{font-size:14px;text-align:center;margin:20px auto}#table-component[_ngcontent-%COMP%]     .pagination-next a, #table-component[_ngcontent-%COMP%]     .pagination-previous a{outline:none}#table-component[_ngcontent-%COMP%]     .ngx-pagination .current{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination{padding:0!important}#table-component[_ngcontent-%COMP%]     .ngx-pagination a:hover, #table-component[_ngcontent-%COMP%]     .ngx-pagination button:hover{border-radius:4px}#table-component[_ngcontent-%COMP%]     .ngx-pagination a, #table-component[_ngcontent-%COMP%]     .ngx-pagination button{border-radius:4px;outline:none}@media screen and (max-width:520px){#table-component[_ngcontent-%COMP%]{margin:15px}}"]}),t})();var O=c("cZdB");const M=[{path:"",component:x}];let _=(()=>{class t{}return t.\u0275mod=s.Ub({type:t}),t.\u0275inj=s.Tb({factory:function(e){return new(e||t)},providers:[n.e],imports:[[n.c,o.i.forChild(M),r.i,r.q,a.a,p.a,O.a,i.a.forRoot({apiKey:"AIzaSyAP8n5GbRjUqB9dQfxDfZLJuFam4PjHOTs"})]]}),t})()},hccJ:function(t,e,c){"use strict";c.d(e,"a",function(){return i});var n=c("f8oD"),o=c("gQwx"),a=c("fXoL");let i=(()=>{class t{constructor(t){this.http=t,this.leaveUrl=o.a.mainApiUrl()+"/leave"}getLeaves(t){return this.http.get(this.leaveUrl+n.a.objToQuery(t))}createLeaves(t){return console.log("Create!"),console.log(t),console.log(this.leaveUrl),this.http.post(this.leaveUrl,t)}updateLeaves(t,e){return this.http.patch(this.leaveUrl+"/"+t,e)}deleteLeaves(t){return this.http.delete(this.leaveUrl+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(a.jc(n.a))},t.\u0275prov=a.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);