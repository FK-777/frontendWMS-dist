!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var c=0;c<t.length;c++){var n=t[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,c,n){return c&&t(e.prototype,c),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{XBNL:function(t,n,i){"use strict";i.d(n,"a",function(){return s});var r=i("f8oD"),o=i("gQwx"),a=i("8Y7J"),s=function(){var t=function(){function t(c){e(this,t),this.http=c,this.attendanceUrl=o.a.mainApiUrl()+"/attendance"}return c(t,[{key:"getAttendance",value:function(e){return this.http.get(this.attendanceUrl+r.a.objToQuery(e))}},{key:"createAttendance",value:function(e){return console.log("Create!"),console.log(e),console.log(this.attendanceUrl),this.http.post(this.attendanceUrl,e)}},{key:"updateAttendance",value:function(e,t){return this.http.patch(this.attendanceUrl+"/"+e,t)}},{key:"deleteAttendance",value:function(e){return this.http.delete(this.attendanceUrl+"/"+e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.jc(r.a))},t.\u0275prov=a.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},f4AX:function(t,n,i){"use strict";i.d(n,"a",function(){return s});var r=i("f8oD"),o=i("gQwx"),a=i("8Y7J"),s=function(){var t=function(){function t(c){e(this,t),this.http=c,this.userUrl=o.a.mainApiUrl()+"/user"}return c(t,[{key:"getUsers",value:function(e){return console.log(e),this.http.get(this.userUrl+r.a.objToQuery(e))}},{key:"createUsers",value:function(e){return this.http.post(this.userUrl,e)}},{key:"updateUsers",value:function(e,t){return this.http.patch(this.userUrl+"/"+e,t)}},{key:"updateUser",value:function(e,t){return this.http.patch(this.userUrl+"/"+e,t)}},{key:"deleteUsers",value:function(e){return this.http.delete(this.userUrl+"/"+e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.jc(r.a))},t.\u0275prov=a.Sb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},yz2Z:function(t,n,i){"use strict";i.r(n),i.d(n,"AttendenceApprovalModule",function(){return I});var r=i("SVse"),o=i("iInd"),a=i("w9WL"),s=i("RMBY"),f=i("8Y7J"),u=i("XBNL"),d=i("f4AX");function l(e,t){1&e&&(f.cc(0,"div",2),f.cc(1,"div",3),f.cc(2,"div",3),f.cc(3,"h4",7),f.Uc(4,"No Pending Attendance Found"),f.bc(),f.bc(),f.bc(),f.bc())}function h(e,t){if(1&e&&(f.cc(0,"div"),f.Uc(1),f.bc()),2&e){var c=f.oc().$implicit;f.Jb(1),f.Xc("",c.fName,"",c.lName," ")}}function v(e,t){if(1&e&&(f.cc(0,"div"),f.Sc(1,h,2,2,"div",13),f.bc()),2&e){var c=t.$implicit,n=f.oc().$implicit;f.Jb(1),f.vc("ngIf",n.EmployeeId==c._id)}}function b(e,t){if(1&e&&(f.cc(0,"div"),f.Uc(1),f.bc()),2&e){var c=f.oc().$implicit;f.Jb(1),f.Vc(c.designation)}}function p(e,t){if(1&e&&(f.cc(0,"div"),f.Sc(1,b,2,1,"div",13),f.bc()),2&e){var c=t.$implicit,n=f.oc().$implicit;f.Jb(1),f.vc("ngIf",n.EmployeeId==c._id)}}function g(e,t){if(1&e&&(f.cc(0,"div"),f.Uc(1),f.bc()),2&e){var c=f.oc().$implicit;f.Jb(1),f.Wc("",c.officeName," ")}}function y(e,t){if(1&e&&(f.cc(0,"div"),f.Sc(1,g,2,1,"div",13),f.bc()),2&e){var c=t.$implicit,n=f.oc().$implicit;f.Jb(1),f.vc("ngIf",n.OfficeId==c._id)}}function m(e,t){if(1&e&&(f.cc(0,"tr"),f.cc(1,"td"),f.Sc(2,v,2,1,"div",12),f.bc(),f.cc(3,"td"),f.Sc(4,p,2,1,"div",12),f.bc(),f.cc(5,"td"),f.Sc(6,y,2,1,"div",12),f.bc(),f.cc(7,"td"),f.Uc(8),f.bc(),f.cc(9,"td"),f.Uc(10),f.bc(),f.cc(11,"td"),f.Uc(12),f.bc(),f.cc(13,"td"),f.Uc(14),f.bc(),f.cc(15,"td"),f.Uc(16),f.bc(),f.bc()),2&e){var c=t.$implicit,n=f.oc(2);f.Jb(2),f.vc("ngForOf",n.employees),f.Jb(2),f.vc("ngForOf",n.employees),f.Jb(2),f.vc("ngForOf",n.reqOffices),f.Jb(2),f.Vc(c.status),f.Jb(2),f.Vc(c.date),f.Jb(2),f.Vc(c.inTime),f.Jb(2),f.Vc(c.outTime),f.Jb(2),f.Vc(c.location)}}function U(e,t){if(1&e&&(f.cc(0,"div",8),f.cc(1,"table",9),f.cc(2,"thead",10),f.cc(3,"tr",11),f.cc(4,"th"),f.Uc(5,"Employee Name"),f.bc(),f.cc(6,"th"),f.Uc(7,"Designation"),f.bc(),f.cc(8,"th"),f.Uc(9,"Office"),f.bc(),f.cc(10,"th"),f.Uc(11,"Status"),f.bc(),f.cc(12,"th"),f.Uc(13,"Date"),f.bc(),f.cc(14,"th"),f.Uc(15,"In Time"),f.bc(),f.cc(16,"th"),f.Uc(17,"Out Time"),f.bc(),f.cc(18,"th"),f.Uc(19,"Location"),f.bc(),f.bc(),f.bc(),f.cc(20,"tbody",11),f.Sc(21,m,17,8,"tr",12),f.bc(),f.bc(),f.bc()),2&e){var c=f.oc();f.Jb(21),f.vc("ngForOf",c.officeNewLeaves)}}var w,k,J=[{path:"",component:(w=function(){function t(c,n,i){e(this,t),this.attendanceService=c,this.datepipe=n,this.userService=i,this.dateToday=Date.now(),this.attendance=[],this.offices=[],this.reqOffices=[],this.officeLeaves=[],this.countTheRecivedLeaves=0,this.officeNewLeaves=[],this.employeeId="62b08350191ff875b3a114ef",this.officeRole="62b08350191ff875b3a114f0",this.employees=[],this.users=[],this.userId=s.a.getLoggedUser().id}return c(t,[{key:"ngOnInit",value:function(){this.fetchCurentDate(),this.fetchAttendances(),this.fetchOffices(),this.fetchUsers()}},{key:"fetchOffices",value:function(){var e=this;this.userService.getUsers({}).subscribe(function(t){e.offices=t;for(var c=0,n=0;c<e.offices.length;c++)e.offices[c].RoleId==e.officeRole&&(e.reqOffices[n]=e.offices[c],e.officeCount=e.reqOffices.length,n++)})}},{key:"refresh",value:function(){window.location.reload()}},{key:"fetchCurentDate",value:function(){this.currentDateTime=this.datepipe.transform(new Date,"dd/MM/yyyy"),console.log(this.currentDateTime)}},{key:"updateApproveStatus",value:function(e){var t=this;this.attendanceService.updateAttendance(e,{isVerified:!0}).subscribe(function(e){t.refresh(),console.log("Attendance updated successfully")},function(e){})}},{key:"fetchAttendances",value:function(){var e=this;this.attendanceService.getAttendance({}).subscribe(function(t){e.attendance=t,e.fetchCurentDate();for(var c=0,n=0;c<e.attendance.length;c++)e.attendance[c].date==e.currentDateTime&&"out"==e.attendance[c].location&&(e.officeLeaves[n]=e.attendance[c],e.countTheRecivedLeaves=e.officeLeaves.length,n++);e.officeNewLeaves=e.officeLeaves.reverse()})}},{key:"fetchUsers",value:function(){var e=this;this.userService.getUsers({}).subscribe(function(t){e.users=t;for(var c=0,n=0;c<e.users.length;c++)e.users[c].RoleId==e.employeeId&&(e.employees[n]=e.users[c],n++);console.log(e.employees)})}}]),t}(),w.\u0275fac=function(e){return new(e||w)(f.Wb(u.a),f.Wb(r.e),f.Wb(d.a))},w.\u0275cmp=f.Qb({type:w,selectors:[["app-attendence-approval"]],decls:8,vars:2,consts:[[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body"],[1,"card-title",2,"color","#727cf5"],["class","card",4,"ngIf"],["class","table-responsive pt-3",4,"ngIf"],[2,"color","red"],[1,"table-responsive","pt-3"],[1,"table","table-bordered"],[2,"background-color","rgb(194, 216, 250)"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,t){1&e&&(f.cc(0,"div",0),f.cc(1,"div",1),f.cc(2,"div",2),f.cc(3,"div",3),f.cc(4,"h6",4),f.Uc(5,"Attendance Verification List"),f.bc(),f.Sc(6,l,5,0,"div",5),f.Sc(7,U,22,1,"div",6),f.bc(),f.bc(),f.bc(),f.bc()),2&e&&(f.Jb(6),f.vc("ngIf",0==t.countTheRecivedLeaves),f.Jb(1),f.vc("ngIf",0!=t.countTheRecivedLeaves))},directives:[r.n,r.m],styles:[".color-blue[_ngcontent-%COMP%]{color:#7d98e8}td[_ngcontent-%COMP%]{word-wrap:break-word}"]}),w)}],I=((k=c(function t(){e(this,t)})).\u0275mod=f.Ub({type:k}),k.\u0275inj=f.Tb({factory:function(e){return new(e||k)},providers:[r.e],imports:[[r.c,o.i.forChild(J),a.a]]}),k)}}])}();